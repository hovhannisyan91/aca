<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.25">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Session 01: Intro to Relational Databases – Data Analytics Bootcamp</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../img/favicon.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark-707d8167ce6003fca903bfe2be84ab7f.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-0b37c64f34216b628666a8dac638b53b.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark-b6871152dc33c25e97e10f79624f84be.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="../../site_libs/bootstrap/bootstrap-0b37c64f34216b628666a8dac638b53b.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN" && texText && texText.data) {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-sidebar floating nav-fixed quarto-light"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    const setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    const hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(authorPrefersDark) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const authorPrefersDark = false;
    const darkModeDefault = authorPrefersDark;
      document.querySelector('link#quarto-text-highlighting-styles.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
      document.querySelector('link#quarto-bootstrap.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
      window.dispatchEvent(new Event('resize'));
    };
    // Switch to dark mode if need be
    if (hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../img/favicon.png" alt="" class="navbar-logo light-content">
    <img src="../../img/favicon.png" alt="" class="navbar-logo dark-content">
    </a>
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Data Analytics Bootcamp</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="../../materials/syllabus.html" aria-current="page"> 
<span class="menu-text">Syllabus</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../materials/statistics/index.html"> 
<span class="menu-text">Statistical Thinking</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../materials/sql/index.html"> 
<span class="menu-text">SQL</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../materials/python/index.html"> 
<span class="menu-text">Python</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../materials/tableau/index.html"> 
<span class="menu-text">Tableau</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../materials/lab/index.html"> 
<span class="menu-text">Lab</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/hovhannisyan91"> <i class="bi bi-github" role="img" aria-label="GitHub">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../materials/sql/index.html">SQL</a></li><li class="breadcrumb-item"><a href="../../materials/sql/index.html">SQL</a></li><li class="breadcrumb-item"><a href="../../materials/sql/session01.html">Session 01: Intro to Relational Databases</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
      <a href="../../index.html" class="sidebar-logo-link">
      </a>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/syllabus.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Syllabus</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../materials/statistics/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Statistical Thinking</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../materials/statistics/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Statistics</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/statistics/session1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Statistics Session 01: Data Layers and Bias in Data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/statistics/session2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Statistics Session 02: Data Types</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/statistics/session3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Statistics Session 03: Probabilistic Distributions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/statistics/session4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Statistics Session 04: Probabilistic Distributions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/statistics/session5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Statistics Session 05: Sampling</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/statistics/session6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Statistics Session 06: Inferential Statistics</span></a>
  </div>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false">
 <span class="menu-text">Slides</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/statistics/slides/intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Course Intro</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/statistics/slides/session1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Descriptive Stats</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/statistics/slides/session2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Types</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/statistics/slides/session3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Continuous Distributions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/statistics/slides/session4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Discrete Distributions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/statistics/slides/session5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Sampling</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/statistics/slides/session6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Hypothesis Testing</span></a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../materials/sql/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">SQL</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../materials/sql/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">SQL</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth2 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/sql/session01.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Session 01: Intro to Relational Databases</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/sql/session02.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Session 02: Intro to PostgreSQL</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/sql/session03.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Session 03: DA with SQL | Data Types &amp; Constraints</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/sql/session04.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Session 04: DA with SQL | Filtering</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/sql/session05.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Session 05: DA with SQL | Numeric Functions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/sql/session06.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Session 06: DA with SQL | String Functions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/sql/session07.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Session 07: DA with SQL | Date Functions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/sql/session08.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Session 08: DA with SQL | JOINs</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/sql/session09.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Session 09: DA with SQL | Advanced SQL</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/sql/session10.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Session 10: DA with SQL | Advanced SQL Functions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/sql/session11.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Session 11: DA with SQL | UDFs, Stored Procedures</span></a>
  </div>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="false">
 <span class="menu-text">Slides</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/sql/slides/session01.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Intro to Relational Databases</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/sql/slides/session02.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Intro to PostgreSQL</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/sql/slides/session03.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Basic Queries: DDL DLM</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/sql/slides/session04.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Filtering</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/sql/slides/session05.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Numeric Functions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/sql/slides/session06.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">String Functions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/sql/slides/session07.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Date Functions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/sql/slides/session08.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Advanced SQL 1</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/sql/slides/session09.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Advanced SQL</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/sql/slides/session10.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Advanced SQL Functions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/sql/slides/session11.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Reporting and Analysis with SQL</span></a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../materials/python/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Python</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../materials/python/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Python</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/python/session1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Python Session 01: Coming Soon</span></a>
  </div>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="false">
 <span class="menu-text">Slides</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/python/slides/session1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Analyst</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/python/slides/session2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Analyst</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/python/slides/session3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Analyst</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/python/slides/session4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Analyst</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/python/slides/session5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Analyst</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/python/slides/session6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Analyst</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/python/slides/session7.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Analyst</span></a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../materials/tableau/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tableau</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-10" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../materials/tableau/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tableau</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-11" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/tableau/session1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tableau Session 01: Introduction to Tableau</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/tableau/session2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tableau Session 02: Intermediate Visual Analytics</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/tableau/session3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tableau Session 03:</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/tableau/session4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tableau Session 04: Dashboard Design &amp; Performance</span></a>
  </div>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-12" role="navigation" aria-expanded="false">
 <span class="menu-text">Slides</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-12" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-12" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/tableau/slides/session1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Analyst</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/tableau/slides/session2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Analyst</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/tableau/slides/session3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Analyst</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../materials/tableau/slides/session4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Analyst</span></a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#learning-goals" id="toc-learning-goals" class="nav-link active" data-scroll-target="#learning-goals">Learning Goals</a></li>
  <li><a href="#introduction" id="toc-introduction" class="nav-link" data-scroll-target="#introduction">Introduction</a>
  <ul class="collapse">
  <li><a href="#what-is-a-database" id="toc-what-is-a-database" class="nav-link" data-scroll-target="#what-is-a-database">What is a Database</a></li>
  <li><a href="#spreadsheets-vs.-databases" id="toc-spreadsheets-vs.-databases" class="nav-link" data-scroll-target="#spreadsheets-vs.-databases">Spreadsheets vs.&nbsp;Databases</a></li>
  <li><a href="#spreadsheet-vs.-database-workflow" id="toc-spreadsheet-vs.-database-workflow" class="nav-link" data-scroll-target="#spreadsheet-vs.-database-workflow">Spreadsheet vs.&nbsp;Database Workflow</a></li>
  <li><a href="#spreadsheets-vs.-databases-summary" id="toc-spreadsheets-vs.-databases-summary" class="nav-link" data-scroll-target="#spreadsheets-vs.-databases-summary">Spreadsheets vs.&nbsp;Databases Summary</a></li>
  </ul></li>
  <li><a href="#types-of-data" id="toc-types-of-data" class="nav-link" data-scroll-target="#types-of-data">Types of Data</a>
  <ul class="collapse">
  <li><a href="#structured-data" id="toc-structured-data" class="nav-link" data-scroll-target="#structured-data">Structured Data</a></li>
  <li><a href="#unstructured-data" id="toc-unstructured-data" class="nav-link" data-scroll-target="#unstructured-data">Unstructured Data</a></li>
  <li><a href="#semi-structured-data" id="toc-semi-structured-data" class="nav-link" data-scroll-target="#semi-structured-data">Semi-Structured Data</a></li>
  </ul></li>
  <li><a href="#types-of-databases" id="toc-types-of-databases" class="nav-link" data-scroll-target="#types-of-databases">Types of Databases</a>
  <ul class="collapse">
  <li><a href="#relational-databases" id="toc-relational-databases" class="nav-link" data-scroll-target="#relational-databases">Relational Databases</a></li>
  <li><a href="#nosql-databases" id="toc-nosql-databases" class="nav-link" data-scroll-target="#nosql-databases">NoSQL Databases</a></li>
  <li><a href="#olap-systems-online-analytical-processing" id="toc-olap-systems-online-analytical-processing" class="nav-link" data-scroll-target="#olap-systems-online-analytical-processing"><strong>OLAP Systems (Online Analytical Processing)</strong></a></li>
  <li><a href="#oltp-systems-online-transaction-processing" id="toc-oltp-systems-online-transaction-processing" class="nav-link" data-scroll-target="#oltp-systems-online-transaction-processing"><strong>OLTP Systems (Online Transaction Processing)</strong></a></li>
  </ul></li>
  <li><a href="#type-of-storing-databases" id="toc-type-of-storing-databases" class="nav-link" data-scroll-target="#type-of-storing-databases">Type of Storing Databases</a>
  <ul class="collapse">
  <li><a href="#centralized-databases" id="toc-centralized-databases" class="nav-link" data-scroll-target="#centralized-databases"><strong>Centralized Databases</strong></a></li>
  <li><a href="#distributed-databases" id="toc-distributed-databases" class="nav-link" data-scroll-target="#distributed-databases"><strong>Distributed Databases</strong></a></li>
  </ul></li>
  <li><a href="#data-management-architectures" id="toc-data-management-architectures" class="nav-link" data-scroll-target="#data-management-architectures">Data Management Architectures</a>
  <ul class="collapse">
  <li><a href="#data-warehouse-dw" id="toc-data-warehouse-dw" class="nav-link" data-scroll-target="#data-warehouse-dw">Data Warehouse (DW)</a></li>
  <li><a href="#data-mart-dm" id="toc-data-mart-dm" class="nav-link" data-scroll-target="#data-mart-dm">Data Mart (DM)</a></li>
  <li><a href="#data-lake-dl" id="toc-data-lake-dl" class="nav-link" data-scroll-target="#data-lake-dl">Data Lake (DL)</a></li>
  <li><a href="#data-lakehouse-dlh" id="toc-data-lakehouse-dlh" class="nav-link" data-scroll-target="#data-lakehouse-dlh">Data Lakehouse (DLH)</a></li>
  </ul></li>
  <li><a href="#intro-to-sql" id="toc-intro-to-sql" class="nav-link" data-scroll-target="#intro-to-sql">Intro to SQL</a></li>
  <li><a href="#building-our-first-database" id="toc-building-our-first-database" class="nav-link" data-scroll-target="#building-our-first-database">Building our first Database</a>
  <ul class="collapse">
  <li><a href="#what-are-we-going-to-achieve" id="toc-what-are-we-going-to-achieve" class="nav-link" data-scroll-target="#what-are-we-going-to-achieve">What are we going to achieve?</a></li>
  <li><a href="#step-1-create-new-github-repository" id="toc-step-1-create-new-github-repository" class="nav-link" data-scroll-target="#step-1-create-new-github-repository">Step 1: Create New GitHub Repository</a></li>
  <li><a href="#step-2-clone-the-repository" id="toc-step-2-clone-the-repository" class="nav-link" data-scroll-target="#step-2-clone-the-repository">Step 2: Clone the Repository</a></li>
  <li><a href="#step-3-download-the-data" id="toc-step-3-download-the-data" class="nav-link" data-scroll-target="#step-3-download-the-data">Step 3: Download the data</a></li>
  <li><a href="#step-4-update-.gitignore" id="toc-step-4-update-.gitignore" class="nav-link" data-scroll-target="#step-4-update-.gitignore">Step 4: Update <code>.gitignore</code></a></li>
  <li><a href="#step-5-creating-init-folder-and-sql-files" id="toc-step-5-creating-init-folder-and-sql-files" class="nav-link" data-scroll-target="#step-5-creating-init-folder-and-sql-files">Step 5: Creating Init folder and SQL files</a></li>
  <li><a href="#step-6-create-.env-file" id="toc-step-6-create-.env-file" class="nav-link" data-scroll-target="#step-6-create-.env-file">Step 6: Create <code>.env</code> file</a></li>
  <li><a href="#step-7-create-the-docker-compose.yaml-file" id="toc-step-7-create-the-docker-compose.yaml-file" class="nav-link" data-scroll-target="#step-7-create-the-docker-compose.yaml-file">Step 7: Create the docker-compose.yaml File</a></li>
  <li><a href="#step-8-run-the-docker-environment" id="toc-step-8-run-the-docker-environment" class="nav-link" data-scroll-target="#step-8-run-the-docker-environment">Step 8: Run the Docker Environment</a></li>
  <li><a href="#step-9-view-the-tables" id="toc-step-9-view-the-tables" class="nav-link" data-scroll-target="#step-9-view-the-tables">Step 9: View the Tables</a></li>
  <li><a href="#step-10-our-first-queries-preview" id="toc-step-10-our-first-queries-preview" class="nav-link" data-scroll-target="#step-10-our-first-queries-preview">Step 10: Our First Queries | Preview</a></li>
  <li><a href="#step-11-close-and-delete-containers" id="toc-step-11-close-and-delete-containers" class="nav-link" data-scroll-target="#step-11-close-and-delete-containers">Step 11: Close and Delete Containers</a></li>
  <li><a href="#step-12-every-time-you-re-run" id="toc-step-12-every-time-you-re-run" class="nav-link" data-scroll-target="#step-12-every-time-you-re-run">Step 12: Every time you re-run</a></li>
  <li><a href="#step-13-detached-mode" id="toc-step-13-detached-mode" class="nav-link" data-scroll-target="#step-13-detached-mode">STEP 13: Detached Mode</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content column-body" id="quarto-document-content">


<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../materials/sql/index.html">SQL</a></li><li class="breadcrumb-item"><a href="../../materials/sql/index.html">SQL</a></li><li class="breadcrumb-item"><a href="../../materials/sql/session01.html">Session 01: Intro to Relational Databases</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">Session 01: Intro to Relational Databases</h1>
  <div class="quarto-categories">
    <div class="quarto-category">SQL</div>
    <div class="quarto-category">Query Plan</div>
    <div class="quarto-category">Queries</div>
    <div class="quarto-category">ORDER BY</div>
    <div class="quarto-category">GROUP BY</div>
    <div class="quarto-category">DISTINCT</div>
  </div>
  </div>



<div class="quarto-title-meta column-body">

    
  
    
  </div>
  


</header>


<section id="learning-goals" class="level2">
<h2 class="anchored" data-anchor-id="learning-goals">Learning Goals</h2>
<ul>
<li>Explain the difference between relational databases and non-relational databases</li>
<li>Explain the importance of online analytical processing databases (OLAP) and relational database management systems (RDBMS)</li>
<li>Data Warehouse vs Data Mart vs Data Lake vs Data Lakehouse</li>
<li>Set up a database environment using docker</li>
</ul>
</section>
<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>Now, you have reached the stage in the Program where you need to learn how to manage your data in an institutional way.</p>
<p>To do so, you will need to know <strong>structured query language (SQL)</strong>, the first language of:</p>
<ul>
<li>Data analysts</li>
<li>Analytics Engineers</li>
<li>Data engineers</li>
<li>Data scientists.</li>
</ul>
<div class="callout callout-style-default callout-tip callout-titled" title="About the importance of SQL">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Tip</span>About the importance of SQL
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>You cannott call yourself a data analyst until you know the basics of SQL</strong></p>
<hr>
<p><strong>SQL is the language of Tables!</strong></p>
</div>
</div>
<p>Besides SQL, you will explore various types of databases and what makes them different from <code>Excel</code>. During the rest of the session, you will get in-depth look at <em>current, everyday practices</em> in the field.</p>
<p><strong>Since the best way to learn SQL is to use it,</strong> you will get hands-on tasks at the end of every Exercise.</p>
<!-- By the time you finish this Achievement, you will have used SQL to query data, answered complex business questions, and presented your findings with visualizations. Excited? We sure are! -->
<section id="what-is-a-database" class="level3">
<h3 class="anchored" data-anchor-id="what-is-a-database">What is a Database</h3>
<p><strong>A database</strong> is a collection of stored data, usually organized in tables of rows and columns and managed by a database management system (DBMS). Analysts collectively refer to the <em>data, the DBMS, and other related tools</em> as the <strong>database.</strong></p>
<p>While there are several ways to store data in a database, the most common approach is to store the data in <strong>columns and rows.</strong> The intersection of each column and row is called a <strong>cell</strong>, and each cell represents a <strong>data element.</strong></p>
<p>A <strong>Data element</strong> could be:</p>
<ul>
<li><strong>numeric:</strong></li>
<li><strong>text</strong></li>
<li>you name it… <!-- TODO add other formats --></li>
</ul>
<p><em>Table: Example of rows, columns, and a highlighted cell</em></p>
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: left;">Col A</th>
<th style="text-align: left;">Col B</th>
<th style="text-align: left;">Col C</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Row 1</td>
<td style="text-align: left;">A1</td>
<td style="text-align: left;">B1</td>
<td style="text-align: left;">C1</td>
</tr>
<tr class="even">
<td style="text-align: left;">Row 2</td>
<td style="text-align: left;">A2</td>
<td style="text-align: left;"><strong>B2 (Cell)</strong></td>
<td style="text-align: left;">C2</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Row 3</td>
<td style="text-align: left;">A3</td>
<td style="text-align: left;">B3</td>
<td style="text-align: left;">C3</td>
</tr>
</tbody>
</table>
<p><em>Cell = intersection of Row 2 and Column B → B2.</em></p>
</section>
<section id="spreadsheets-vs.-databases" class="level3">
<h3 class="anchored" data-anchor-id="spreadsheets-vs.-databases">Spreadsheets vs.&nbsp;Databases</h3>
<p>Databases differ from spreadsheets (<em>excel-like tools</em>) in several important ways, particularly in <em>scalability</em>, <em>performance</em>, and <em>the ability to support multiple users</em>. The key distinctions include:</p>
<ul>
<li><strong>User Access</strong>
<ul>
<li>Spreadsheets are typically designed for single-user access.</li>
<li>Databases allow multiple users to access and manipulate the data simultaneously.</li>
</ul></li>
<li><strong>Data Capacity</strong>
<ul>
<li>Spreadsheets handle relatively small datasets (usually up to a few hundred thousand rows).</li>
<li>Databases can efficiently store and process millions or even billions of records.</li>
</ul></li>
<li><strong>Performance</strong>
<ul>
<li>Spreadsheets load the <em>entire dataset</em> into memory when opened.</li>
<li>Databases retrieve <em>only the necessary records</em>, improving speed and scalability.</li>
</ul></li>
<li><strong>Query Capability</strong>
<ul>
<li>Spreadsheets require manual filtering, sorting, and counting.</li>
<li>Databases allow precise and fast queries using SQL.</li>
</ul></li>
</ul>
</section>
<section id="spreadsheet-vs.-database-workflow" class="level3">
<h3 class="anchored" data-anchor-id="spreadsheet-vs.-database-workflow">Spreadsheet vs.&nbsp;Database Workflow</h3>
<p>Let’s say you have a dataset of actors, and you want to count how many actors have the first name <strong>“Ed”</strong>.</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: right;">actor_id</th>
<th>first_name</th>
<th>last_name</th>
<th>last_update</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1</td>
<td>Penelope</td>
<td>Guiness</td>
<td>2013-05-26 14:47:57.62</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td>Nick</td>
<td>Wahlberg</td>
<td>2013-05-26 14:47:57.62</td>
</tr>
<tr class="odd">
<td style="text-align: right;">3</td>
<td>Ed</td>
<td>Chase</td>
<td>2013-05-26 14:47:57.62</td>
</tr>
<tr class="even">
<td style="text-align: right;">4</td>
<td>Jennifer</td>
<td>Davis</td>
<td>2013-05-26 14:47:57.62</td>
</tr>
<tr class="odd">
<td style="text-align: right;">5</td>
<td>Johnny</td>
<td>Lollobrigida</td>
<td>2013-05-26 14:47:57.62</td>
</tr>
<tr class="even">
<td style="text-align: right;">6</td>
<td>Bette</td>
<td>Nicholson</td>
<td>2013-05-26 14:47:57.62</td>
</tr>
<tr class="odd">
<td style="text-align: right;">7</td>
<td>Grace</td>
<td>Mostel</td>
<td>2013-05-26 14:47:57.62</td>
</tr>
<tr class="even">
<td style="text-align: right;">8</td>
<td>Matthew</td>
<td>Johansson</td>
<td>2013-05-26 14:47:57.62</td>
</tr>
<tr class="odd">
<td style="text-align: right;">9</td>
<td>Joe</td>
<td>Swank</td>
<td>2013-05-26 14:47:57.62</td>
</tr>
<tr class="even">
<td style="text-align: right;">10</td>
<td>Christian</td>
<td>Gable</td>
<td>2013-05-26 14:47:57.62</td>
</tr>
</tbody>
</table>
<p>When performing tasks such as counting how many actors have the first name <strong>“Ed”</strong>, the difference between spreadsheets and databases becomes clear:</p>
<ul>
<li><strong>Using a Spreadsheet:</strong>
<ul>
<li>You must manually <strong>filter the <code>first_name</code> column</strong> to show only rows containing “Ed.”</li>
<li>After filtering, you manually <strong>count the matching rows</strong> or read the count displayed by the spreadsheet application.</li>
<li>With large datasets, loading, filtering, and recalculating can be <strong>slow and resource-intensive</strong>, causing delays and potential crashes.</li>
<li>Spreadsheets can process <strong>only one query at a time</strong>, limiting efficiency.</li>
</ul></li>
<li><strong>Using a Database</strong>
<ul>
<li><p>Instead of loading the entire dataset, you can execute a <strong>single SQL query</strong> such as:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb1"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="fu">COUNT</span>(<span class="op">*</span>) </span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> actor</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> first_name <span class="op">=</span> <span class="st">'Ed'</span>;</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></li>
<li><p>The result is returned <strong>almost instantly</strong>, even with very large datasets.</p></li>
<li><p>Databases support <strong>multiple users</strong> running queries simultaneously without performance degradation.</p></li>
<li><p>They are optimized for <strong>complex, concurrent data manipulation and retrieval</strong>, making them more suitable for scalable and shared environments.</p></li>
</ul></li>
</ul>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Overall, spreadsheets may be adequate for small, single-user datasets, but databases provide far superior performance, scalability, and efficiency when working with larger datasets or multiple users.</p>
</div>
</div>
</section>
<section id="spreadsheets-vs.-databases-summary" class="level3">
<h3 class="anchored" data-anchor-id="spreadsheets-vs.-databases-summary">Spreadsheets vs.&nbsp;Databases Summary</h3>
<table class="caption-top table">
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header">
<th><strong>SPREADSHEET</strong></th>
<th><strong>DATABASE</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Designed for single-user access</td>
<td>Designed for multiple-user access</td>
</tr>
<tr class="even">
<td>Only one user can manipulate the data at one point in time</td>
<td>Multiple users can manipulate the data at one point in time</td>
</tr>
<tr class="odd">
<td>Handles a limited amount of data</td>
<td>Handles small to massive amounts of data</td>
</tr>
<tr class="even">
<td>Basic to moderate data operations</td>
<td>Basic to complex data operations</td>
</tr>
<tr class="odd">
<td>Slow or unable to manipulate, extract, transform, and aggregate large amounts of data</td>
<td>Faster to manipulate, extract, transform, and aggregate large amounts of data</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="types-of-data" class="level2">
<h2 class="anchored" data-anchor-id="types-of-data">Types of Data</h2>
<p>Before we learn about different types of databases, we should understand the distinction between them. Broadly speaking, these below terms refer to how data is organized:</p>
<ul>
<li>structured</li>
<li>unstructured</li>
<li>semi-structured data.</li>
</ul>
<div class="columns">
<div class="column" style="width:33%;">
<svg viewbox="0 0 220 140" width="100%" aria-label="Structured data grid">
<rect x="10" y="10" width="200" height="120" rx="8" fill="#f7f9fc" stroke="#1f4b99" stroke-width="3"></rect> <line x1="10" y1="50" x2="210" y2="50" stroke="#1f4b99" stroke-width="3"></line> <line x1="10" y1="85" x2="210" y2="85" stroke="#b7c6e2" stroke-width="2"></line> <line x1="10" y1="110" x2="210" y2="110" stroke="#b7c6e2" stroke-width="2"></line> <line x1="70" y1="10" x2="70" y2="130" stroke="#b7c6e2" stroke-width="2"></line> <line x1="135" y1="10" x2="135" y2="130" stroke="#b7c6e2" stroke-width="2"></line> <text x="20" y="38" font-family="Arial" font-size="14" fill="#1f4b99">ID</text> <text x="80" y="38" font-family="Arial" font-size="14" fill="#1f4b99">Name</text> <text x="145" y="38" font-family="Arial" font-size="14" fill="#1f4b99">City</text> <text x="20" y="74" font-family="Arial" font-size="13" fill="#345375">1</text> <text x="80" y="74" font-family="Arial" font-size="13" fill="#345375">Maria</text> <text x="145" y="74" font-family="Arial" font-size="13" fill="#345375">Oslo</text> <text x="20" y="100" font-family="Arial" font-size="13" fill="#345375">2</text> <text x="80" y="100" font-family="Arial" font-size="13" fill="#345375">Nick</text> <text x="145" y="100" font-family="Arial" font-size="13" fill="#345375">Berlin</text>
</svg>
</div><div class="column" style="width:33%;">
<svg viewbox="0 0 220 140" width="100%" aria-label="Unstructured data notes">
<rect x="15" y="10" width="190" height="120" rx="10" fill="#fff7ed" stroke="#c05c2d" stroke-width="3"></rect> <path d="M30 40 Q70 25 110 44 T190 46" fill="none" stroke="#c05c2d" stroke-width="3"></path> <path d="M30 68 Q65 80 100 64 T190 68" fill="none" stroke="#e38a54" stroke-width="2"></path> <path d="M30 90 Q75 105 120 86 T190 92" fill="none" stroke="#e38a54" stroke-width="2"></path> <path d="M30 112 Q55 95 95 118 T190 118" fill="none" stroke="#c05c2d" stroke-width="3"></path> <text x="28" y="30" font-family="Arial" font-size="12" fill="#c05c2d">photos, chats, mp3…</text>
</svg>
</div><div class="column" style="width:34%;">
<svg viewbox="0 0 220 140" width="100%" aria-label="Semi-structured data tags">
<rect x="10" y="12" width="200" height="116" rx="10" fill="#eef8f2" stroke="#2d814d" stroke-width="3"></rect> <rect x="22" y="26" width="176" height="30" rx="6" fill="#d6f1df" stroke="#2d814d" stroke-width="2"></rect> <text x="34" y="46" font-family="Arial" font-size="13" fill="#2d814d">&lt;user id=“1001”&gt;</text> <rect x="22" y="66" width="176" height="26" rx="6" fill="#d6f1df" stroke="#2d814d" stroke-width="2"></rect> <text x="34" y="83" font-family="Arial" font-size="13" fill="#2d814d">“name”: “Maria”</text> <rect x="22" y="100" width="176" height="22" rx="6" fill="#d6f1df" stroke="#2d814d" stroke-width="2"></rect> <text x="34" y="115" font-family="Arial" font-size="13" fill="#2d814d">“roles”: [“admin”]</text>
</svg>
</div>
</div>
<section id="structured-data" class="level3">
<h3 class="anchored" data-anchor-id="structured-data">Structured Data</h3>
<p>Each <strong>row</strong> in the table represents a distinct <em>entity</em> (in this case, an actor), while each <strong>column</strong> corresponds to a specific <em>attribute</em> such as the actor’s first name. The intersection of a row and a column forms a <strong>cell</strong>, and each cell contains a single data value.</p>
<p>Importantly, every column is assigned a <strong>predefined data type</strong>, which determines the kind of information it can store. For example, the <code>first_name</code> column uses a <strong>text</strong> data type, meaning all values in this column must consist of alphabetical characters only.</p>
<svg viewbox="0 0 220 140" width="100%" aria-label="Structured data grid">
<rect x="10" y="10" width="200" height="120" rx="8" fill="#f7f9fc" stroke="#1f4b99" stroke-width="3"></rect> <line x1="10" y1="50" x2="210" y2="50" stroke="#1f4b99" stroke-width="3"></line> <line x1="10" y1="85" x2="210" y2="85" stroke="#b7c6e2" stroke-width="2"></line> <line x1="10" y1="110" x2="210" y2="110" stroke="#b7c6e2" stroke-width="2"></line> <line x1="70" y1="10" x2="70" y2="130" stroke="#b7c6e2" stroke-width="2"></line> <line x1="135" y1="10" x2="135" y2="130" stroke="#b7c6e2" stroke-width="2"></line> <text x="20" y="38" font-family="Arial" font-size="14" fill="#1f4b99">ID</text> <text x="80" y="38" font-family="Arial" font-size="14" fill="#1f4b99">Name</text> <text x="145" y="38" font-family="Arial" font-size="14" fill="#1f4b99">City</text> <text x="20" y="74" font-family="Arial" font-size="13" fill="#345375">1</text> <text x="80" y="74" font-family="Arial" font-size="13" fill="#345375">Maria</text> <text x="145" y="74" font-family="Arial" font-size="13" fill="#345375">Oslo</text> <text x="20" y="100" font-family="Arial" font-size="13" fill="#345375">2</text> <text x="80" y="100" font-family="Arial" font-size="13" fill="#345375">Nick</text> <text x="145" y="100" font-family="Arial" font-size="13" fill="#345375">Berlin</text>
</svg>
<section id="sample-data" class="level4">
<h4 class="anchored" data-anchor-id="sample-data">Sample Data</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: right;">actor_id</th>
<th>first_name</th>
<th>last_name</th>
<th>last_update</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1</td>
<td>Penelope</td>
<td>Guiness</td>
<td>2013-05-26 14:47:57.62</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td>Nick</td>
<td>Wahlberg</td>
<td>2013-05-26 14:47:57.62</td>
</tr>
<tr class="odd">
<td style="text-align: right;">3</td>
<td>Ed</td>
<td>Chase</td>
<td>2013-05-26 14:47:57.62</td>
</tr>
<tr class="even">
<td style="text-align: right;">4</td>
<td>Jennifer</td>
<td>Davis</td>
<td>2013-05-26 14:47:57.62</td>
</tr>
<tr class="odd">
<td style="text-align: right;">5</td>
<td>Johnny</td>
<td>Lollobrigida</td>
<td>2013-05-26 14:47:57.62</td>
</tr>
<tr class="even">
<td style="text-align: right;">6</td>
<td>Bette</td>
<td>Nicholson</td>
<td>2013-05-26 14:47:57.62</td>
</tr>
<tr class="odd">
<td style="text-align: right;">7</td>
<td>Grace</td>
<td>Mostel</td>
<td>2013-05-26 14:47:57.62</td>
</tr>
<tr class="even">
<td style="text-align: right;">8</td>
<td>Matthew</td>
<td>Johansson</td>
<td>2013-05-26 14:47:57.62</td>
</tr>
<tr class="odd">
<td style="text-align: right;">9</td>
<td>Joe</td>
<td>Swank</td>
<td>2013-05-26 14:47:57.62</td>
</tr>
<tr class="even">
<td style="text-align: right;">10</td>
<td>Christian</td>
<td>Gable</td>
<td>2013-05-26 14:47:57.62</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="unstructured-data" class="level3">
<h3 class="anchored" data-anchor-id="unstructured-data">Unstructured Data</h3>
<p>Unstructured data refers to information that <strong>does not follow a predefined model or tabular format</strong>. Unlike structured data, it has no fixed rows, columns, or consistent organization. Common examples include:</p>
<ul>
<li>Emails<br>
</li>
<li>Text messages<br>
</li>
<li>Images and graphics<br>
</li>
<li>Audio and video files</li>
</ul>
<p>Because it lacks a clear structure, unstructured data is <strong>more difficult to search, process, and analyze</strong>. Extracting useful information often requires significant manual effort or specialized tools. It can be compared to searching for every instance of a specific word in a book—possible, but time-consuming and inefficient without the right indexing or processing methods.</p>
<svg viewbox="0 0 220 140" width="100%" aria-label="Unstructured data notes">
<rect x="15" y="10" width="190" height="120" rx="10" fill="#fff7ed" stroke="#c05c2d" stroke-width="3"></rect> <path d="M30 40 Q70 25 110 44 T190 46" fill="none" stroke="#c05c2d" stroke-width="3"></path> <path d="M30 68 Q65 80 100 64 T190 68" fill="none" stroke="#e38a54" stroke-width="2"></path> <path d="M30 90 Q75 105 120 86 T190 92" fill="none" stroke="#e38a54" stroke-width="2"></path> <path d="M30 112 Q55 95 95 118 T190 118" fill="none" stroke="#c05c2d" stroke-width="3"></path> <text x="28" y="30" font-family="Arial" font-size="12" fill="#c05c2d">photos, chats, mp3…</text>
</svg>
</section>
<section id="semi-structured-data" class="level3">
<h3 class="anchored" data-anchor-id="semi-structured-data">Semi-Structured Data</h3>
<p>Semi-structured data lies <strong>between structured and unstructured data</strong>. While it does not follow a rigid tabular format, it still maintains a <strong>discernible organizational framework</strong>, making it more flexible than strictly structured data.</p>
<p>This type of data can be analyzed effectively <strong>only when you understand the organizational rules</strong> embedded within it. A common example is <strong>HTML</strong>: although it is not stored in rows and columns, it contains predictable <strong>tags</strong> and <strong>nested elements</strong> that define the structure of the information. To locate specific content within an HTML file, you must first understand what each tag represents.</p>
<p>Semi-structured data therefore offers:</p>
<ul>
<li><strong>More flexibility</strong> than structured tables<br>
</li>
<li><strong>More organization</strong> than raw unstructured content<br>
</li>
<li><strong>Better adaptability</strong> for evolving or complex data formats</li>
</ul>
<svg viewbox="0 0 220 140" width="100%" aria-label="Semi-structured data tags">
<rect x="10" y="12" width="200" height="116" rx="10" fill="#eef8f2" stroke="#2d814d" stroke-width="3"></rect> <rect x="22" y="26" width="176" height="30" rx="6" fill="#d6f1df" stroke="#2d814d" stroke-width="2"></rect> <text x="34" y="46" font-family="Arial" font-size="13" fill="#2d814d">&lt;user id=“1001”&gt;</text> <rect x="22" y="66" width="176" height="26" rx="6" fill="#d6f1df" stroke="#2d814d" stroke-width="2"></rect> <text x="34" y="83" font-family="Arial" font-size="13" fill="#2d814d">“name”: “Maria”</text> <rect x="22" y="100" width="176" height="22" rx="6" fill="#d6f1df" stroke="#2d814d" stroke-width="2"></rect> <text x="34" y="115" font-family="Arial" font-size="13" fill="#2d814d">“roles”: [“admin”]</text>
</svg>
</section>
</section>
<section id="types-of-databases" class="level2">
<h2 class="anchored" data-anchor-id="types-of-databases">Types of Databases</h2>
<p>As you learn about SQL, you will be working with a relational database, a common type of database that all analysts need to be familiar with. That said, relational databases are not only type of database out there. Let’s look at the most important ones and their defining features:</p>
<ol type="1">
<li>Relational Databases</li>
<li>NoSQL Databases</li>
<li>Graph Databases</li>
</ol>
<div class="callout callout-style-default callout-important callout-titled" title="">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Databases could also be <a href="#type-of-storing-databases"><strong>centralized or distributed.</strong></a></li>
<li>Databases could also be <a href="#olap-vs-oltp"><strong>online analytical processing (OLAP)</strong> or <strong>online transaction processing (OLTP) system.</strong></a></li>
</ul>
</div>
</div>
<section id="relational-databases" class="level3">
<h3 class="anchored" data-anchor-id="relational-databases">Relational Databases</h3>
<p>A <strong>relational database</strong> is a collection of data stored in one or more tables of rows and columns.</p>
<p>Between the different tables, there are links, known as <strong>relationships</strong>. As you have already learned, data analysts use SQL to query and manipulate the data in relational databases.</p>
<p><img src="../../img/sql/rdbms.png" class="img-fluid"></p>
<p>Popular relational database management systems (RDBMS) include <strong>Microsoft SQL Server</strong>,<strong>MySQL</strong>, <strong>Oracle DB</strong> and <strong>PostgreSQL</strong>. Each of these <strong>RDBMS</strong> is owned by different companies:</p>
<ul>
<li><strong>PostgreSQL:</strong> PostgreSQL Community</li>
<li><strong>MySQL:</strong> Oracle</li>
<li><strong>Oracle:</strong> Oracle</li>
<li><strong>MSSQL:</strong> Microsoft</li>
</ul>
<!-- ![](../../img/sql/postgresql_icon.png)
![](../../img/sql/mysql_icon.png)
![](../../img/sql/mssql_icon.png) -->
<table class="caption-top table">
<colgroup>
<col style="width: 18%">
<col style="width: 24%">
<col style="width: 24%">
<col style="width: 16%">
<col style="width: 16%">
</colgroup>
<thead>
<tr class="header">
<th>Feature</th>
<th>PostgreSQL</th>
<th>SQL Server</th>
<th>Oracle</th>
<th>MySQL</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>License</td>
<td>Open-source</td>
<td>Commercial + Express</td>
<td>Commercial</td>
<td>Open-source (Oracle-owned)</td>
</tr>
<tr class="even">
<td>OS Support</td>
<td>Linux, macOS, Windows</td>
<td>Windows, Linux</td>
<td>Linux, Unix, Windows</td>
<td>Linux, Windows</td>
</tr>
<tr class="odd">
<td>Strengths</td>
<td>Standards compliant, JSONB, extensible</td>
<td>Enterprise BI, T-SQL, Microsoft ecosystem</td>
<td>Scalability, security, enterprise features</td>
<td>Fast reads, simple web workloads</td>
</tr>
<tr class="even">
<td>Best Use Cases</td>
<td>Analytics, complex apps, data science</td>
<td>BI, ERP, corporate apps</td>
<td>Finance, telecom, large enterprises</td>
<td>Web apps, lightweight services</td>
</tr>
</tbody>
</table>
</section>
<section id="nosql-databases" class="level3">
<h3 class="anchored" data-anchor-id="nosql-databases">NoSQL Databases</h3>
<p>Unlike relational databases, NoSQL databases have a <strong>flexible data model</strong>, and they are used to store unstructured, semi-structured, and even structured data. In general, you wouldn’t use SQL to access a NoSQL database, though some have SQL-like languages.</p>
<p>As web applications have become more complex, NoSQL databases have become popular thanks to their flexibility. NoSQL databases are used for applications that change frequently as new functions and features are added; for instance, the social networking site LinkedIn uses a NoSQL database.</p>
<p>Thus, NoSQL databases are non-relational systems designed for <strong>scalability, flexibility, and high-volume data.</strong> They fall into several major categories depending on their data model.</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>NoSQL stands for <strong>Not Only SQL</strong> and refers to database systems that are generally <strong>non-relational</strong>, designed for flexible schemas and distributed workloads.</p>
<hr>
<p>Some NoSQL systems provide <em>SQL-like query interfaces</em>, but they do <strong>NOT</strong> follow the <strong>relational model</strong></p>
</div>
</div>
<section id="keyvalue-databases" class="level4">
<h4 class="anchored" data-anchor-id="keyvalue-databases"><strong>Key–Value Databases</strong></h4>
<ul>
<li><strong>Concept:</strong> Simple key → value storage.</li>
<li><strong>Popular systems:</strong> Redis, Amazon DynamoDB, Riak KV</li>
<li><strong>Example (Redis):</strong></li>
</ul>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">'course'</span>:<span class="st">'Data Analytics'</span>,</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">'company'</span>:<span class="st">'ACA'</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><img src="../../img/sql/key_value_db.png" class="img-fluid"></p>
</section>
<section id="document-databases" class="level4">
<h4 class="anchored" data-anchor-id="document-databases"><strong>Document Databases</strong></h4>
<ul>
<li><strong>Concept:</strong> JSON-like documents with flexible schema.</li>
<li><strong>Popular systems:</strong> MongoDB, CouchDB, Firestore</li>
<li><strong>Example (MongoDB):</strong></li>
</ul>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb3"><pre class="sourceCode json code-with-copy"><code class="sourceCode json"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">"user_id"</span><span class="fu">:</span> <span class="dv">1001</span><span class="fu">,</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">"name"</span><span class="fu">:</span> <span class="st">"Maria"</span><span class="fu">,</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">"roles"</span><span class="fu">:</span> <span class="ot">[</span><span class="st">"admin"</span><span class="ot">,</span> <span class="st">"manager"</span><span class="ot">]</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><img src="../../img/sql/document.png" class="img-fluid"></p>
</section>
<section id="column-family-wide-column-databases" class="level4">
<h4 class="anchored" data-anchor-id="column-family-wide-column-databases"><strong>Column-Family (Wide-Column) Databases</strong></h4>
<ul>
<li><strong>Concept:</strong> Data stored in column families across distributed nodes.</li>
<li><strong>Popular systems:</strong> Apache Cassandra, HBase, ScyllaDB</li>
<li><strong>Example (Cassandra CQL):</strong></li>
</ul>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb4"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="kw">INSERT</span> <span class="kw">INTO</span> users (user_id, name, age)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="kw">VALUES</span> (<span class="dv">1001</span>, <span class="st">'Maria'</span>, <span class="dv">33</span>);</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><img src="../../img/sql/wide_column_db.png" class="img-fluid"></p>
</section>
<section id="graph-databases" class="level4">
<h4 class="anchored" data-anchor-id="graph-databases"><strong>Graph Databases</strong></h4>
<ul>
<li><strong>Concept:</strong> Nodes and relationships.</li>
<li><strong>Popular systems:</strong> Neo4j, ArangoDB, Amazon Neptune</li>
<li><strong>Example (Neo4j Cypher):</strong></li>
</ul>
<pre class="cypher"><code>CREATE (u:User {name: "Maria"})
CREATE (p:Project {title: "Analytics App"})
CREATE (u)-[:LEADS]-&gt;(p);</code></pre>
<p><img src="../../img/sql/graphdb.png" class="img-fluid"></p>
<hr>
</section>
<section id="time-series-databases" class="level4">
<h4 class="anchored" data-anchor-id="time-series-databases"><strong>Time-Series Databases</strong></h4>
<ul>
<li><strong>Concept:</strong> Optimized for timestamped metrics.</li>
<li><strong>Popular systems:</strong> InfluxDB, TimescaleDB, Prometheus</li>
<li><strong>Example (InfluxDB Line Protocol):</strong></li>
</ul>
<p><img src="../../img/sql/time-seriesdb.png" class="img-fluid"></p>
<p><em>Mostly used among DevOps for monitoring</em></p>
<hr>
</section>
<section id="search-engine-databases" class="level4">
<h4 class="anchored" data-anchor-id="search-engine-databases"><strong>Search Engine Databases</strong></h4>
<ul>
<li><strong>Concept:</strong> Full-text indexing and search.</li>
<li><strong>Popular systems:</strong> Elasticsearch, OpenSearch, Apache Solr</li>
<li><strong>Example (Elasticsearch Query):</strong></li>
</ul>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb6"><pre class="sourceCode json code-with-copy"><code class="sourceCode json"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">"query"</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">"match"</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>      <span class="dt">"message"</span><span class="fu">:</span> <span class="st">"database error"</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">}</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><img src="../../img/sql/search-engine.png" class="img-fluid"></p>
<blockquote class="blockquote">
<p>Mostly used for querying logs</p>
</blockquote>
<hr>
</section>
<section id="summary-table" class="level4">
<h4 class="anchored" data-anchor-id="summary-table">Summary Table</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 19%">
<col style="width: 30%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header">
<th>NoSQL Type</th>
<th>Key Concept</th>
<th>Popular Databases</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Key–Value</td>
<td>Key → Value lookups</td>
<td>Redis, DynamoDB, Riak</td>
</tr>
<tr class="even">
<td>Document</td>
<td>JSON-like documents</td>
<td>MongoDB, CouchDB, Firestore</td>
</tr>
<tr class="odd">
<td>Column-Family</td>
<td>Wide-column storage</td>
<td>Cassandra, HBase, ScyllaDB</td>
</tr>
<tr class="even">
<td>Graph</td>
<td>Nodes + edges</td>
<td>Neo4j, ArangoDB, Amazon Neptune</td>
</tr>
<tr class="odd">
<td>Time-Series</td>
<td>Time-stamped metrics</td>
<td>InfluxDB, TimescaleDB, Prometheus</td>
</tr>
<tr class="even">
<td>Search Engine</td>
<td>Text search and indexing</td>
<td>Elasticsearch, OpenSearch, Solr</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="olap-systems-online-analytical-processing" class="level3">
<h3 class="anchored" data-anchor-id="olap-systems-online-analytical-processing"><strong>OLAP Systems (Online Analytical Processing)</strong></h3>
<p><img src="../../img/sql/OLAP.png" class="img-fluid" style="width:80.0%"></p>
<p>OLAP systems are optimized for <strong>READ-heavy analytical workloads</strong>. They store large volumes of historical data and support complex queries, aggregations, and trend analysis.</p>
<p><strong>Key Features:</strong></p>
<ul>
<li>Designed primarily for <strong>reading and analyzing</strong> data.</li>
<li>Not optimized for frequent inserts/updates/deletes.</li>
<li>Stores historical and summarized information.</li>
<li>Supports advanced analytics: dashboards, reports, trends, forecasting.</li>
<li>Typically powered by data warehouses or data marts.</li>
</ul>
<p><strong>Example:</strong> An e-commerce analyst retrieves <strong>last year’s order data</strong> from a data warehouse and analyzes trends across months, categories, or customer segments.</p>
<p><strong>Common Technologies:</strong> <code>Amazon Redshift</code>, <code>Snowflake</code>,<code>BigQuery</code>, <code>Apache Hive</code>, <code>Microsoft SQL Server Analysis Services</code>.</p>
<hr>
</section>
<section id="oltp-systems-online-transaction-processing" class="level3">
<h3 class="anchored" data-anchor-id="oltp-systems-online-transaction-processing"><strong>OLTP Systems (Online Transaction Processing)</strong></h3>
<p><img src="../../img/sql/OLTP.png" class="img-fluid" style="width:80.0%"></p>
<p>OLTP systems are optimized for <strong>fast inserts, updates, and deletes</strong>. They handle high-volume transactional operations in real time.</p>
<p><strong>Key Features:</strong></p>
<ul>
<li>Processes large numbers of small, atomic transactions.</li>
<li>Ensures consistency using ACID properties.</li>
<li>Optimized for real-time operations.</li>
<li>Used by operational systems rather than analytics.</li>
</ul>
<p><strong>Example:</strong> A bank’s ATM network continuously <strong>inserts, updates, or deletes</strong> records as customers make withdrawals, deposits, or transfers.</p>
<p><strong>Common Technologies:</strong> <code>PostgreSQL</code>, <code>MySQL</code>, <code>Oracle</code>, <code>SQL Server</code>, <code>MongoDB</code> (as transactional store).</p>
<div class="callout callout-style-default callout-important callout-titled" title="About ACID, BASE, and the CAP Theorem">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Important</span>About ACID, BASE, and the CAP Theorem
</div>
</div>
<div class="callout-body-container callout-body">
<section id="acid-transactions" class="level3">
<h3 class="anchored" data-anchor-id="acid-transactions">ACID Transactions</h3>
<p>In computer science, <strong>ACID</strong> (<strong>A</strong>tomicity, <strong>C</strong>onsistency, <strong>I</strong>solation, <strong>D</strong>urability) is a set of properties that guarantee the correctness of <strong>database transactions</strong>.</p>
<p>A transaction is treated as a single unit of work: - Either <strong>all operations succeed</strong>, or <strong>none do</strong> - The database remains in a valid state even in the presence of errors, crashes, or power failures</p>
<p><strong>Example:</strong><br>
A bank transfer that debits one account and credits another must either complete fully or not happen at all.</p>
<p>ACID properties are commonly associated with <strong>relational databases</strong> and <strong>OLTP systems</strong>.</p>
<hr>
</section>
<section id="base-systems" class="level3">
<h3 class="anchored" data-anchor-id="base-systems">BASE Systems</h3>
<p><strong>BASE</strong> (<strong>B</strong>asically <strong>A</strong>vailable, <strong>S</strong>oft state, <strong>E</strong>ventually consistent) is an alternative design philosophy used mainly in <strong>distributed systems</strong>.</p>
<p>BASE systems: - Prioritize <strong>availability</strong> over immediate consistency - Allow temporary inconsistencies - Guarantee that data will become consistent <strong>eventually</strong></p>
<p>This approach is common in large-scale, distributed NoSQL systems where uptime and scalability are more critical than strict transactional guarantees.</p>
<hr>
</section>
<section id="the-cap-theorem" class="level3">
<h3 class="anchored" data-anchor-id="the-cap-theorem">The CAP Theorem</h3>
<p>The <strong>CAP theorem</strong> states that a <strong>distributed system</strong> cannot simultaneously guarantee all three of the following properties:</p>
<ul>
<li><strong>Consistency (C):</strong> every read returns the most recent write<br>
</li>
<li><strong>Availability (A):</strong> every request receives a response<br>
</li>
<li><strong>Partition Tolerance (P):</strong> the system continues operating despite network failures</li>
</ul>
<p>In the presence of a network partition (which is unavoidable in distributed systems), a database must <strong>choose between Consistency and Availability</strong>.</p>
<p>As a result:</p>
<ul>
<li>Some systems favor <strong>strong consistency</strong> and may reject requests during failures</li>
<li>Others favor <strong>high availability</strong> and may return temporarily inconsistent data</li>
</ul>
<hr>
</section>
<section id="important-clarification" class="level3">
<h3 class="anchored" data-anchor-id="important-clarification">Important Clarification</h3>
<p>The CAP theorem <strong>does NOT state</strong> that a system must be either <strong>ACID or BASE</strong>.</p>
<ul>
<li><strong>CAP</strong> describes trade-offs in <strong>distributed systems</strong></li>
<li><strong>ACID and BASE</strong> describe <strong>transactional and consistency models</strong></li>
</ul>
<p>Modern databases often implement <strong>hybrid approaches</strong>, providing:</p>
<ul>
<li>ACID guarantees within limited scopes (e.g., single node, single partition)</li>
<li>Relaxed consistency across distributed components</li>
</ul>
<p>Trade-offs always exist, but real-world systems rarely fit into pure categories.</p>
</section>
</div>
</div>
<hr>
<section id="olap-vs-oltp-summary" class="level4">
<h4 class="anchored" data-anchor-id="olap-vs-oltp-summary"><strong>OLAP vs OLTP: Summary</strong></h4>
<table class="caption-top table">
<colgroup>
<col style="width: 40%">
<col style="width: 30%">
<col style="width: 30%">
</colgroup>
<thead>
<tr class="header">
<th>Feature</th>
<th>OLAP</th>
<th>OLTP</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Primary purpose</td>
<td>Analytics, reporting</td>
<td>Real-time transactions</td>
</tr>
<tr class="even">
<td>Query type</td>
<td>Read-heavy, complex</td>
<td>Write-heavy, simple</td>
</tr>
<tr class="odd">
<td>Data volume</td>
<td>Historical, large datasets</td>
<td>Current transactional data</td>
</tr>
<tr class="even">
<td>Performance optimized for</td>
<td>Aggregations, scans</td>
<td>Fast inserts/updates/deletes</td>
</tr>
<tr class="odd">
<td>Common use cases</td>
<td>Dashboards, BI, trend analysis</td>
<td>Banking, retail transactions, booking systems</td>
</tr>
<tr class="even">
<td>Users</td>
<td>Analysts, data scientists</td>
<td>End-users, applications, machines</td>
</tr>
</tbody>
</table>
<p><img src="../../img/sql/OLAPvsOLTP.png" class="img-fluid"></p>
<div class="callout callout-style-default callout-note callout-titled" title="Reading">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Reading
</div>
</div>
<div class="callout-body-container callout-body">
<p><a href="[link](https://medium.com/@HalderNilimesh/comprehensive-comparison-of-oltp-and-olap-key-differences-use-cases-and-choosing-the-right-565e74be4670)">OLTPvsOLAP</a></p>
</div>
</div>
<div class="callout callout-style-simple callout-none no-icon callout-titled" title="Reading">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">None</span>Reading
</div>
</div>
<div class="callout-body-container callout-body">
<p><a href="[link](https://www.ibm.com/think/topics/sql-vs-nosql)">SQL vs NoSQL</a></p>
</div>
</div>
</section>
</section>
</section>
<section id="type-of-storing-databases" class="level2">
<h2 class="anchored" data-anchor-id="type-of-storing-databases">Type of Storing Databases</h2>
<p>The three kinds of databases discussed above can be <strong>centralized</strong> or <strong>distributed</strong>. Put simply, these concepts refer to where the database is stored.</p>
<div class="figure" data-fig-align="center">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../../img/sql/centralized_vs_distributed.png" class="img-fluid figure-img" style="width:92.0%"></p>
<figcaption>Illustration of centralized vs distributed databases</figcaption>
</figure>
</div>
</div>
<section id="centralized-databases" class="level3">
<h3 class="anchored" data-anchor-id="centralized-databases"><strong>Centralized Databases</strong></h3>
<p>A centralized database runs on a <strong>single machine</strong> (single-node). All users, analysts, and administrators connect to this one server.</p>
<p><strong>Key Features:</strong></p>
<ul>
<li>All data lives in one powerful machine.</li>
<li>Easy to manage and maintain.</li>
<li>Can handle <strong>billions of records</strong> and <strong>terabytes of data</strong>.</li>
<li>Scaling requires buying larger, more expensive hardware (vertical scaling).</li>
<li>Once the system reaches hardware limits, performance and management become challenging.</li>
</ul>
<p><strong>Common in:</strong> Traditional enterprises, internal IT systems, on-premise setups.</p>
<p><strong>Analogy:</strong> A workstation or laptop, but with <strong>high-end server specifications</strong>.</p>
<hr>
</section>
<section id="distributed-databases" class="level3">
<h3 class="anchored" data-anchor-id="distributed-databases"><strong>Distributed Databases</strong></h3>
<p>A distributed database stores data across <strong>multiple machines</strong> (nodes). These nodes work together to form one logical database.</p>
<section id="key-features" class="level4">
<h4 class="anchored" data-anchor-id="key-features"><strong>Key Features:</strong></h4>
<ul>
<li>Designed for <strong>massive-scale data</strong>.</li>
<li>Scales horizontally by adding more machines.</li>
<li>Faster data access and search due to parallel processing.</li>
<li>More cost-effective storage.</li>
<li>Higher availability and fault tolerance.</li>
</ul>
</section>
<section id="common-in" class="level4">
<h4 class="anchored" data-anchor-id="common-in"><strong>Common in:</strong></h4>
<ul>
<li>Banking systems<br>
</li>
<li>Telecommunications<br>
</li>
<li>Large tech companies (Google, Facebook, Amazon, Netflix)</li>
</ul>
<div class="callout callout-style-default callout-important callout-titled" title="Why it is used?">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Important</span>Why it is used?
</div>
</div>
<div class="callout-body-container callout-body">
<p>To handle <em>constantly growing data</em>, <em>high query loads</em>, <em>global users</em>, and <em>real-time applications.</em></p>
</div>
</div>
</section>
<section id="centralized-vs-distributed-databases-summary" class="level4">
<h4 class="anchored" data-anchor-id="centralized-vs-distributed-databases-summary"><strong>Centralized vs Distributed Databases: Summary</strong></h4>
<table class="caption-top table">
<colgroup>
<col style="width: 15%">
<col style="width: 42%">
<col style="width: 42%">
</colgroup>
<thead>
<tr class="header">
<th>Feature</th>
<th>Centralized Database</th>
<th>Distributed Database</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Storage location</td>
<td>One machine</td>
<td>Many machines</td>
</tr>
<tr class="even">
<td>Scalability</td>
<td>Vertical (add more power)</td>
<td>Horizontal (add more nodes)</td>
</tr>
<tr class="odd">
<td>Typical capacity</td>
<td>High but limited by hardware</td>
<td>Extremely high, virtually unlimited</td>
</tr>
<tr class="even">
<td>Cost</td>
<td>Expensive to scale</td>
<td>More cost-efficient</td>
</tr>
</tbody>
</table>
</section>
</section>
</section>
<section id="data-management-architectures" class="level2">
<h2 class="anchored" data-anchor-id="data-management-architectures">Data Management Architectures</h2>
<p>Okay, we got high level understanding about the databases and their types, however in real life applications we need to master the so called Data Management Architecture (DMA). Let’s go over them chronologically:</p>
<ol type="1">
<li>Data Warehouse (DW)</li>
<li>Data Mart (DM)</li>
<li>Data Lake (DL)</li>
<li>Data Lakehouse (DLH)</li>
</ol>
<section id="data-warehouse-dw" class="level3">
<h3 class="anchored" data-anchor-id="data-warehouse-dw">Data Warehouse (DW)</h3>
<p>The earliest large-scale analytics storage (1980-90s).</p>
<p>A Data Warehouse is a <code>centralized</code>, <code>structured</code>, and governed analytical storage designed for reporting, business intelligence, and decision-making. Everything inside is modeled, cleaned, validated, and optimized for SQL analytics.</p>
<p><img src="../../img/sql/dw.png" class="img-fluid"></p>
<section id="purpose" class="level4">
<h4 class="anchored" data-anchor-id="purpose">Purpose</h4>
<ul>
<li>Provide a single version of truth for the organization.</li>
<li>Serve business reporting, dashboards, KPIs.</li>
<li>Allow analysts to run consistent, repeatable metrics.</li>
</ul>
</section>
<section id="architecture" class="level4">
<h4 class="anchored" data-anchor-id="architecture">Architecture</h4>
<ul>
<li><strong>Core storage:</strong> relational tables in Star or Snowflake schema.</li>
<li>ETL/ELT pipelines transform raw data into structured models.</li>
<li><strong>Strong governance:</strong> data quality rules, validation layers, semantic models.</li>
</ul>
</section>
<section id="schema-approach" class="level4">
<h4 class="anchored" data-anchor-id="schema-approach">Schema Approach</h4>
<ul>
<li><strong>Schema-on-write:</strong> data must be modeled before it enters.</li>
<li><strong>Facts</strong> (large numerical tables).</li>
<li><strong>Dimensions</strong> (lookup tables with business attributes).</li>
<li><strong>Conformed dimensions</strong> for uniform interpretation (e.g., Customer, Product).</li>
</ul>
</section>
<section id="query-model" class="level4">
<h4 class="anchored" data-anchor-id="query-model">Query Model</h4>
<ul>
<li>Aggregations, joins, slicing/dicing, reporting.</li>
<li>Optimized for read-heavy workloads.</li>
</ul>
</section>
<section id="advantages" class="level4">
<h4 class="anchored" data-anchor-id="advantages">Advantages</h4>
<ul>
<li>High data quality</li>
<li>Strong governance</li>
<li>Fast SQL analytics</li>
<li>Business-friendly, predictable models</li>
</ul>
</section>
<section id="limitations" class="level4">
<h4 class="anchored" data-anchor-id="limitations">Limitations</h4>
<ul>
<li><strong>Rigid:</strong> changes require redesign</li>
<li>Poor for raw, unstructured data</li>
<li><strong>Expensive</strong> for large-scale storage</li>
<li>Not ideal for ML pipelines that need raw historical data</li>
</ul>
</section>
<section id="typical-toolsplatforms" class="level4">
<h4 class="anchored" data-anchor-id="typical-toolsplatforms">Typical Tools/Platforms</h4>
<ul>
<li>Snowflake (warehouse mode)</li>
<li>Amazon Redshift</li>
<li>Google BigQuery (classic DW usage)</li>
<li>Teradata</li>
<li>Oracle Exadata</li>
</ul>
</section>
<section id="relationship-to-others" class="level4">
<h4 class="anchored" data-anchor-id="relationship-to-others">Relationship to others</h4>
<ul>
<li><strong>DW</strong> is the parent of <strong>DM</strong>.</li>
<li><strong>DW</strong> predates <strong>DL</strong> and <strong>DLH</strong>.</li>
</ul>
</section>
</section>
<section id="data-mart-dm" class="level3">
<h3 class="anchored" data-anchor-id="data-mart-dm">Data Mart (DM)</h3>
<p>Introduced after Data Warehouses (late 1990s).</p>
<p>A Data Mart is a <code>subject-specific</code>, <code>department-focused</code> subset of a Data Warehouse. It is optimized for a particular business domain such as Marketing, Finance, Sales, HR, or Operations.</p>
<p><img src="../../img/sql/dm.png" class="img-fluid"></p>
<section id="purpose-1" class="level4">
<h4 class="anchored" data-anchor-id="purpose-1">Purpose</h4>
<ul>
<li>Reduce load on the central Data Warehouse.</li>
<li>Deliver faster, domain-specific analytics.</li>
<li>Allow departments to have tailored KPIs and models.</li>
<li>Improve performance by minimizing unnecessary joins and tables.</li>
</ul>
</section>
<section id="architecture-1" class="level4">
<h4 class="anchored" data-anchor-id="architecture-1">Architecture</h4>
<ul>
<li>Usually built as <strong>dependent data marts</strong>, sourced from the DW.</li>
<li>Sometimes built as <strong>independent data marts</strong> (less common today).</li>
<li>Domain-specific schemas (e.g., Marketing Mart, Finance Mart).</li>
<li>Can use star/snowflake schemas but simplified for a business unit.</li>
</ul>
</section>
<section id="schema-approach-1" class="level4">
<h4 class="anchored" data-anchor-id="schema-approach-1">Schema Approach</h4>
<ul>
<li><strong>Schema-on-write</strong> (same as DW).</li>
<li>Contains facts/dimensions <strong>relevant only to one business domain</strong>.</li>
<li>May extend or customize dimensions (e.g., Marketing_Customer).</li>
</ul>
</section>
<section id="query-model-1" class="level4">
<h4 class="anchored" data-anchor-id="query-model-1">Query Model</h4>
<ul>
<li>Faster analytical queries for a single domain.</li>
<li>Reduced table complexity.</li>
<li>Supports dashboards, KPI reporting, and departmental insights.</li>
</ul>
</section>
<section id="advantages-1" class="level4">
<h4 class="anchored" data-anchor-id="advantages-1">Advantages</h4>
<ul>
<li>High performance for domain-specific workloads</li>
<li>Reduces contention on the central DW</li>
<li>Simpler models for end users</li>
<li>Enables data ownership by individual departments</li>
</ul>
</section>
<section id="limitations-1" class="level4">
<h4 class="anchored" data-anchor-id="limitations-1">Limitations</h4>
<ul>
<li>Can create data silos if unmanaged</li>
<li>Requires synchronization with DW</li>
<li>Potential duplication of logic if marts diverge</li>
</ul>
<blockquote class="blockquote">
<p><a href="https://www.ibm.com/think/topics/data-silos">Data Silo</a></p>
</blockquote>
</section>
<section id="typical-toolsplatforms-1" class="level4">
<h4 class="anchored" data-anchor-id="typical-toolsplatforms-1">Typical Tools/Platforms</h4>
<ul>
<li>Snowflake Data Marts</li>
<li>Redshift Data Marts</li>
<li>BigQuery departmental datasets</li>
<li>Microsoft SQL Server departmental warehouses</li>
</ul>
</section>
<section id="relationship-to-others-1" class="level4">
<h4 class="anchored" data-anchor-id="relationship-to-others-1">Relationship to others</h4>
<ul>
<li><strong>DM</strong> is the child of <strong>DW</strong>.</li>
<li>Relies on <strong>DW</strong> for consistency.</li>
<li>Not directly related to Data Lakes or Lakehouses except in <em>hybrid architectures.</em></li>
</ul>
<hr>
</section>
</section>
<section id="data-lake-dl" class="level3">
<h3 class="anchored" data-anchor-id="data-lake-dl">Data Lake (DL)</h3>
<p>Introduced during the Big Data era (2010s).</p>
<p>A Data Lake is a <code>large-scale</code>, <code>low-cost</code>, <code>raw-data</code> storage system that can ingest structured, semi-structured, and unstructured data without modeling.</p>
<p><img src="../../img/sql/dl.png" class="img-fluid"></p>
<section id="purpose-2" class="level4">
<h4 class="anchored" data-anchor-id="purpose-2">Purpose</h4>
<ul>
<li>Store massive amounts of raw data cheaply.</li>
<li>Support machine learning and exploratory analytics.</li>
<li>Capture <code>logs</code>, <code>JSON</code> files, <code>clickstreams</code>, <code>IoT</code> data, <code>images</code>, <code>audio</code>.</li>
<li>Preserve granular, historical data with no loss.</li>
</ul>
</section>
<section id="architecture-2" class="level4">
<h4 class="anchored" data-anchor-id="architecture-2">Architecture</h4>
<ul>
<li>Built on object storage (S3, GCS, ADLS, or HDFS).</li>
<li><strong>Organized into zones:</strong> <strong>raw</strong>, <strong>curated</strong>, <strong>prepared</strong>.</li>
<li>Ingestion via <strong>ELT</strong> pipelines.</li>
<li>Often uses frameworks like <code>Spark</code>, <code>Hive</code>, <code>Presto</code>, or <code>Dremio</code>.</li>
</ul>
</section>
<section id="schema-approach-2" class="level4">
<h4 class="anchored" data-anchor-id="schema-approach-2">Schema Approach</h4>
<ul>
<li><strong>Schema-on-read:</strong> structure is applied only at query time.</li>
<li><strong>Supports open formats:</strong> Parquet, ORC, Avro, CSV, JSON.</li>
<li>Can handle unstructured formats (text, logs, images).</li>
</ul>
</section>
<section id="query-model-2" class="level4">
<h4 class="anchored" data-anchor-id="query-model-2">Query Model</h4>
<ul>
<li>Flexible but slower than DW for SQL analytics.</li>
<li>Best for ML workloads requiring raw historical data.</li>
<li>Handles batch and streaming ingestion.</li>
</ul>
</section>
<section id="advantages-2" class="level4">
<h4 class="anchored" data-anchor-id="advantages-2">Advantages</h4>
<ul>
<li>Extremely flexible storage model</li>
<li>Very low cost for large-scale data</li>
<li>Excellent for ML, experimentation, and data science</li>
<li>Decouples storage from compute</li>
</ul>
</section>
<section id="limitations-2" class="level4">
<h4 class="anchored" data-anchor-id="limitations-2">Limitations</h4>
<ul>
<li>No ACID guarantees in traditional lakes</li>
<li>Poor governance (risk of “data swamp”)</li>
<li>Hard for business teams to use directly</li>
<li>Not optimized for BI dashboards</li>
</ul>
</section>
<section id="typical-toolsplatforms-2" class="level4">
<h4 class="anchored" data-anchor-id="typical-toolsplatforms-2">Typical Tools/Platforms</h4>
<ul>
<li>AWS S3 + Athena / EMR</li>
<li>Azure Data Lake Storage</li>
<li>Google Cloud Storage + BigQuery external tables</li>
<li>Hadoop HDFS</li>
<li>Databricks in lake mode</li>
</ul>
</section>
<section id="relationship-to-others-2" class="level4">
<h4 class="anchored" data-anchor-id="relationship-to-others-2">Relationship to others</h4>
<ul>
<li><strong>DL</strong> evolved after <strong>DW</strong> and <strong>DM</strong>.</li>
<li>Predecessor of the DLH.</li>
<li><strong>DW</strong> and <strong>DL</strong> often <em>coexist in two-tier architectures</em>.</li>
</ul>
</section>
</section>
<section id="data-lakehouse-dlh" class="level3">
<h3 class="anchored" data-anchor-id="data-lakehouse-dlh">Data Lakehouse (DLH)</h3>
<p>The most modern architecture (2020s).</p>
<p>A Data Lakehouse is a <code>unified</code>, <code>ACID-compliant</code>, <code>analytics + ML</code> architecture built on top of Data Lake storage.<br>
It merges the strengths of Data Warehouses and Data Lakes into a single system.</p>
<p><img src="../../img/sql/dlh.png" class="img-fluid"></p>
<section id="purpose-3" class="level4">
<h4 class="anchored" data-anchor-id="purpose-3">Purpose</h4>
<ul>
<li>Provide a single platform for SQL analytics, BI, ML, and streaming.</li>
<li>Avoid duplication between DW and DL.</li>
<li>Guarantee ACID transactions and strong governance on cheap lake storage.</li>
<li>Support both structured and unstructured data.</li>
</ul>
</section>
<section id="architecture-3" class="level4">
<h4 class="anchored" data-anchor-id="architecture-3">Architecture</h4>
<ul>
<li>Storage on cloud object stores (S3, ADLS, GCS).</li>
<li>ACID table formats: <strong>Delta Lake</strong>, <strong>Apache Iceberg</strong>, <strong>Apache Hudi</strong>.</li>
<li>Metadata layers for schema enforcement, governance, versioning.</li>
<li>Compute engines: Spark, Databricks, Presto/Trino, Snowflake, BigQuery.</li>
</ul>
</section>
<section id="schema-approach-3" class="level4">
<h4 class="anchored" data-anchor-id="schema-approach-3">Schema Approach</h4>
<ul>
<li>Supports both <strong>schema-on-write</strong> and <strong>schema-on-read</strong>.</li>
<li>Allows schema evolution, time travel, and versioning.</li>
<li>Enforces constraints even on raw lake storage.</li>
</ul>
</section>
<section id="query-model-3" class="level4">
<h4 class="anchored" data-anchor-id="query-model-3">Query Model</h4>
<ul>
<li>High-performance SQL (warehouse-like).</li>
<li>ML workloads (lake-like).</li>
<li>Supports batch, streaming, and real-time analytics.</li>
<li>Works for both BI dashboards and ML pipelines.</li>
</ul>
</section>
<section id="advantages-3" class="level4">
<h4 class="anchored" data-anchor-id="advantages-3">Advantages</h4>
<ul>
<li>Unifies DW + DL into one architecture</li>
<li>ACID guarantees on object storage</li>
<li>Suitable for both BI and ML</li>
<li>Simplifies pipelines and governance</li>
<li>Scalable and cost-effective</li>
</ul>
</section>
<section id="limitations-3" class="level4">
<h4 class="anchored" data-anchor-id="limitations-3">Limitations</h4>
<ul>
<li>Requires organizational adoption and re-skilling</li>
<li>Governance maturity varies by platform</li>
<li>Classic DW teams may struggle to transition</li>
</ul>
</section>
<section id="typical-toolsplatforms-3" class="level4">
<h4 class="anchored" data-anchor-id="typical-toolsplatforms-3">Typical Tools/Platforms</h4>
<ul>
<li>Databricks Lakehouse (Delta)</li>
<li>Snowflake (Unistore + Iceberg)</li>
<li>BigQuery (Lakehouse-friendly design)</li>
<li>Apache Iceberg + Trino/Presto</li>
<li>Apache Hudi platforms</li>
</ul>
</section>
<section id="relationship-to-others-3" class="level4">
<h4 class="anchored" data-anchor-id="relationship-to-others-3">Relationship to others</h4>
<ul>
<li>DLH is the evolution of the Data Lake.</li>
<li>DLH aims to unify and simplify analytics workloads.</li>
<li>DLH may replace DW in modern architectures.</li>
</ul>
</section>
<section id="database-layers" class="level4">
<h4 class="anchored" data-anchor-id="database-layers">**Database Layers</h4>
<ul>
<li><strong>Operational Database (OLTP):</strong> Primary system of record for real-time transactions; normalized schema, ACID guarantees.</li>
<li><strong>Data Warehouse:</strong> Curated, structured, and historical store optimized for analytics; fed via ETL/ELT pipelines and supports dimensional models (star/snowflake).</li>
<li><strong>Data Lake:</strong> Low-cost storage for raw, semi-structured, and unstructured data at scale; schema-on-read enables flexible exploration.</li>
<li><strong>Data Lakehouse:</strong> Combines lake storage with warehouse-like governance and performance (ACID tables, time travel, unified catalog).</li>
<li><strong>Data Mart:</strong> Focused slice of the warehouse or lakehouse tailored for a specific team/domain to simplify access and controls.</li>
<li><strong>Staging/Raw Layer:</strong> Landing zone for ingested data before cleansing and modeling; keeps reproducible snapshots of source data.</li>
</ul>
</section>
</section>
</section>
<section id="intro-to-sql" class="level2">
<h2 class="anchored" data-anchor-id="intro-to-sql">Intro to SQL</h2>
<p><strong>SQL (Structured Query Language)</strong> was first developed by <strong>IBM</strong> in the early 1970s and released publicly in 1979. It was later standardized by the American National Standards Institute (ANSI), establishing it as the primary language for interacting with relational databases.</p>
<p>SQL is used for three core tasks:</p>
<ul>
<li><strong>Manipulating Data:</strong> inserting, updating, or deleting records within a database.</li>
<li><strong>Searching Data:</strong> retrieving all films that feature a specific actor (e.g., <em>Ed Chase</em>).</li>
<li><strong>Defining Database Structures:</strong> For instance, creating new tables or adding columns to existing ones.</li>
</ul>
<p>Like any language, SQL follows specific <strong>syntax rules</strong>.</p>
<ul>
<li>An English sentence ends with a period.<br>
</li>
<li>A SQL statement ends with a <strong>semicolon (;)</strong>.</li>
</ul>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>While the foundational syntax is consistent, slight variations may occur depending on the database system (e.g., PostgreSQL vs.&nbsp;SQL Server). Understanding these conventions is essential before writing your own SQL queries.</p>
</div>
</div>
<hr>
<div class="callout callout-style-default callout-important callout-titled" title="Is SQL a Programing Language?">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Important</span>Is SQL a Programing Language?
</div>
</div>
<div class="callout-body-container callout-body">
<p>SQL generally counts as <strong>code</strong> even though it is <strong>NOT</strong> technically a programming language.</p>
<p>You willl encounter a common phenomenon when you start working with it: finding yourself in situations where you cannot solve a coding problem using only your existing knowledge. <strong>Do not worry</strong>, as this happens to all beginners, and it is something you will have to learn to deal with.</p>
<p>Most coders spend a fair amount of time researching answers to their problems online. There is no need to get frustrated if you run into a brick wall—simply Google what you are trying to achieve in SQL (or any other language), and you may be surprised how quickly you will find an answer to your problem!</p>
</div>
</div>
</section>
<section id="building-our-first-database" class="level2">
<h2 class="anchored" data-anchor-id="building-our-first-database">Building our first Database</h2>
<p>Now that we have high level understanding about the databases, their types and architectures, it is high time to build our first database and continue.</p>
<p>In order to be able to build and run the database you need to keep <code>docker desktop</code> active. If you have note installed Docker yet, check out the installation and testing steps <a href="https://hovhannisyan91.github.io/aca/materials/lab/docker.html">here</a> PS you will see how easy it is.</p>
<section id="what-are-we-going-to-achieve" class="level3">
<h3 class="anchored" data-anchor-id="what-are-we-going-to-achieve">What are we going to achieve?</h3>
<p>We are going to build a relational database which will consist of the following tables.</p>
<ol type="1">
<li>Sales</li>
<li>Time Dimension</li>
<li>Product Dimension</li>
<li>Employee Dimension</li>
<li>Customer Dimension</li>
</ol>
<p><img src="../../img/sql/star_schema.png" class="img-fluid"></p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>This is going to be part of your portfolio, make sure the make it as structured as possible.</p>
</div>
</div>
</section>
<section id="step-1-create-new-github-repository" class="level3">
<h3 class="anchored" data-anchor-id="step-1-create-new-github-repository">Step 1: Create New GitHub Repository</h3>
<ol type="1">
<li>Log in to GitHub.<br>
</li>
<li>Click <strong>New Repository</strong>.<br>
</li>
<li>Repository name: <code>sql-analytics-portfolio</code><br>
</li>
<li>Check <strong>Add a README file</strong>.<br>
</li>
<li>Check <strong>Add .gitignore</strong> and choose <strong>None</strong>.<br>
</li>
<li>Click <strong>Create Repository</strong>.</li>
</ol>
</section>
<section id="step-2-clone-the-repository" class="level3">
<h3 class="anchored" data-anchor-id="step-2-clone-the-repository">Step 2: Clone the Repository</h3>
<ol type="1">
<li>Create a folder named <code>aca</code> on your Desktop or wherever you want</li>
<li>Open your terminal there. You should see <code>~/aca</code></li>
<li>Type in your terminal:</li>
</ol>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb7"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> clone <span class="op">&lt;</span>your-repository-url<span class="op">&gt;</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<ol start="4" type="1">
<li>Navigate to that folder by typing:</li>
</ol>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb8"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span>  <span class="op">&lt;</span>your-repository-url<span class="op">&gt;</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<ol start="5" type="1">
<li>type <code>code .</code> to open the project with VS Code</li>
<li>RECOMMENDED save the project in VS Code using the Project Manager extension</li>
</ol>
</section>
<section id="step-3-download-the-data" class="level3">
<h3 class="anchored" data-anchor-id="step-3-download-the-data">Step 3: Download the data</h3>
<ol type="1">
<li>Create a new folder inside of the project named <code>data</code></li>
<li>Download the following <code>csv</code> files and put in the <code>data</code> folder</li>
<li><a href="https://raw.githubusercontent.com/hovhannisyan91/aca/refs/heads/main/lab/sql_module/data/public_schema/customers.csv" target="_blank">customers.csv</a><br>
</li>
<li><a href="https://raw.githubusercontent.com/hovhannisyan91/aca/refs/heads/main/lab/sql_module/data/public_schema/employees.csv" target="_blank">employees.csv</a><br>
</li>
<li><a href="https://raw.githubusercontent.com/hovhannisyan91/aca/refs/heads/main/lab/sql_module/data/public_schema/orders.csv" target="_blank">orders.csv</a><br>
</li>
<li><a href="https://raw.githubusercontent.com/hovhannisyan91/aca/refs/heads/main/lab/sql_module/data/public_schema/products.csv" target="_blank">products.csv</a><br>
</li>
<li><a href="https://raw.githubusercontent.com/hovhannisyan91/aca/refs/heads/main/lab/sql_module/data/public_schema/sales.csv" target="_blank">sales.csv</a></li>
<li>Add and commit the changes done so far</li>
</ol>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb9"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> add .</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> commit <span class="at">-m</span> <span class="st">"Added data folder with CSV datasets"</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</section>
<section id="step-4-update-.gitignore" class="level3">
<h3 class="anchored" data-anchor-id="step-4-update-.gitignore">Step 4: Update <code>.gitignore</code></h3>
<ol type="1">
<li>Open the <code>.gitignore</code> file in your repository and add the following two lines at the bottom:</li>
</ol>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb10"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pgadmin_data/</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="ex">postgres_data/</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<ol start="2" type="1">
<li>Again add and commit</li>
</ol>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb11"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> add .gitignore</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> commit <span class="at">-m</span> <span class="st">"Updated .gitignore to exclude database volumes"</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</section>
<section id="step-5-creating-init-folder-and-sql-files" class="level3">
<h3 class="anchored" data-anchor-id="step-5-creating-init-folder-and-sql-files">Step 5: Creating Init folder and SQL files</h3>
<p>We are going to create init files which will be executed only during the first db initialization.</p>
<ol type="1">
<li>Create a folder named <code>init</code></li>
<li>Inside of the <code>init folder</code> create a file named <code>01_schema.sql</code> for database schema code. Copy the respective chunk there</li>
<li>Inside of the <code>init folder</code> create a file named <code>02_etl.sql</code> for data loading to SQL</li>
<li>Add and Commit the changes</li>
</ol>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb12"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">git</span> add init/</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">git</span> commit <span class="at">-m</span> <span class="st">"Added initial schema and ETL SQL files"</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<section id="schema.sql" class="level4">
<h4 class="anchored" data-anchor-id="schema.sql">01_schema.sql</h4>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb13"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- 01_schema.sql</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="co">-- Safety: drop if you are iterating (comment these in production)</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="co">-- DROP TABLE IF EXISTS sales CASCADE;</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="co">-- DROP TABLE IF EXISTS orders CASCADE;</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="co">-- DROP TABLE IF EXISTS products CASCADE;</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="co">-- DROP TABLE IF EXISTS customers CASCADE;</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a><span class="co">-- DROP TABLE IF EXISTS employees CASCADE;</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> <span class="cf">IF</span> <span class="kw">NOT</span> <span class="kw">EXISTS</span> employees (</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>  employee_id   SERIAL <span class="kw">PRIMARY</span> <span class="kw">KEY</span>,</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>  first_name    TEXT,</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>  last_name     TEXT,</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>  email         TEXT,</span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>  salary        <span class="dt">NUMERIC</span></span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>);</span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> <span class="cf">IF</span> <span class="kw">NOT</span> <span class="kw">EXISTS</span> customers (</span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a>  customer_id   <span class="dt">INTEGER</span> <span class="kw">PRIMARY</span> <span class="kw">KEY</span>,</span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a>  customer_name TEXT,</span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a>  address       TEXT,</span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a>  city          TEXT,</span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a>  zip_code      TEXT</span>
<span id="cb13-24"><a href="#cb13-24" aria-hidden="true" tabindex="-1"></a>);</span>
<span id="cb13-25"><a href="#cb13-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-26"><a href="#cb13-26" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> <span class="cf">IF</span> <span class="kw">NOT</span> <span class="kw">EXISTS</span> products (</span>
<span id="cb13-27"><a href="#cb13-27" aria-hidden="true" tabindex="-1"></a>  product_id    <span class="dt">INTEGER</span> <span class="kw">PRIMARY</span> <span class="kw">KEY</span>,</span>
<span id="cb13-28"><a href="#cb13-28" aria-hidden="true" tabindex="-1"></a>  product_name  TEXT,</span>
<span id="cb13-29"><a href="#cb13-29" aria-hidden="true" tabindex="-1"></a>  price         <span class="dt">NUMERIC</span>,</span>
<span id="cb13-30"><a href="#cb13-30" aria-hidden="true" tabindex="-1"></a>  description   TEXT,</span>
<span id="cb13-31"><a href="#cb13-31" aria-hidden="true" tabindex="-1"></a>  <span class="kw">category</span>      TEXT</span>
<span id="cb13-32"><a href="#cb13-32" aria-hidden="true" tabindex="-1"></a>);</span>
<span id="cb13-33"><a href="#cb13-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-34"><a href="#cb13-34" aria-hidden="true" tabindex="-1"></a><span class="co">-- orders: include year/quarter/month as stored columns (loaded from CSV)</span></span>
<span id="cb13-35"><a href="#cb13-35" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> <span class="cf">IF</span> <span class="kw">NOT</span> <span class="kw">EXISTS</span> orders (</span>
<span id="cb13-36"><a href="#cb13-36" aria-hidden="true" tabindex="-1"></a>  order_id    <span class="dt">INTEGER</span> <span class="kw">PRIMARY</span> <span class="kw">KEY</span>,</span>
<span id="cb13-37"><a href="#cb13-37" aria-hidden="true" tabindex="-1"></a>  order_date  <span class="dt">TIMESTAMP</span>,</span>
<span id="cb13-38"><a href="#cb13-38" aria-hidden="true" tabindex="-1"></a>  <span class="dt">year</span>        <span class="dt">INT</span>,</span>
<span id="cb13-39"><a href="#cb13-39" aria-hidden="true" tabindex="-1"></a>  quarter     <span class="dt">INT</span>,</span>
<span id="cb13-40"><a href="#cb13-40" aria-hidden="true" tabindex="-1"></a>  <span class="dt">month</span>       TEXT</span>
<span id="cb13-41"><a href="#cb13-41" aria-hidden="true" tabindex="-1"></a>);</span>
<span id="cb13-42"><a href="#cb13-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-43"><a href="#cb13-43" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> <span class="cf">IF</span> <span class="kw">NOT</span> <span class="kw">EXISTS</span> sales (</span>
<span id="cb13-44"><a href="#cb13-44" aria-hidden="true" tabindex="-1"></a>  transaction_id <span class="dt">INTEGER</span> <span class="kw">PRIMARY</span> <span class="kw">KEY</span>,</span>
<span id="cb13-45"><a href="#cb13-45" aria-hidden="true" tabindex="-1"></a>  order_id       <span class="dt">INTEGER</span> <span class="kw">REFERENCES</span> orders(order_id)     <span class="kw">ON</span> <span class="kw">DELETE</span> <span class="kw">RESTRICT</span>,</span>
<span id="cb13-46"><a href="#cb13-46" aria-hidden="true" tabindex="-1"></a>  product_id     <span class="dt">INTEGER</span> <span class="kw">REFERENCES</span> products(product_id) <span class="kw">ON</span> <span class="kw">DELETE</span> <span class="kw">RESTRICT</span>,</span>
<span id="cb13-47"><a href="#cb13-47" aria-hidden="true" tabindex="-1"></a>  customer_id    <span class="dt">INTEGER</span> <span class="kw">REFERENCES</span> customers(customer_id) <span class="kw">ON</span> <span class="kw">DELETE</span> <span class="kw">RESTRICT</span>,</span>
<span id="cb13-48"><a href="#cb13-48" aria-hidden="true" tabindex="-1"></a>  employee_id    <span class="dt">INTEGER</span> <span class="kw">REFERENCES</span> employees(employee_id) <span class="kw">ON</span> <span class="kw">DELETE</span> <span class="kw">SET</span> <span class="kw">NULL</span>,</span>
<span id="cb13-49"><a href="#cb13-49" aria-hidden="true" tabindex="-1"></a>  total_sales    <span class="dt">NUMERIC</span>,</span>
<span id="cb13-50"><a href="#cb13-50" aria-hidden="true" tabindex="-1"></a>  quantity       <span class="dt">INTEGER</span>,</span>
<span id="cb13-51"><a href="#cb13-51" aria-hidden="true" tabindex="-1"></a>  discount       <span class="dt">NUMERIC</span></span>
<span id="cb13-52"><a href="#cb13-52" aria-hidden="true" tabindex="-1"></a>);</span>
<span id="cb13-53"><a href="#cb13-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-54"><a href="#cb13-54" aria-hidden="true" tabindex="-1"></a><span class="co">-- Helpful indexes</span></span>
<span id="cb13-55"><a href="#cb13-55" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">INDEX</span> <span class="cf">IF</span> <span class="kw">NOT</span> <span class="kw">EXISTS</span> idx_sales_order_id   <span class="kw">ON</span> sales(order_id);</span>
<span id="cb13-56"><a href="#cb13-56" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">INDEX</span> <span class="cf">IF</span> <span class="kw">NOT</span> <span class="kw">EXISTS</span> idx_sales_product_id <span class="kw">ON</span> sales(product_id);</span>
<span id="cb13-57"><a href="#cb13-57" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">INDEX</span> <span class="cf">IF</span> <span class="kw">NOT</span> <span class="kw">EXISTS</span> idx_sales_customer_id <span class="kw">ON</span> sales(customer_id);</span>
<span id="cb13-58"><a href="#cb13-58" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">INDEX</span> <span class="cf">IF</span> <span class="kw">NOT</span> <span class="kw">EXISTS</span> idx_orders_date      <span class="kw">ON</span> orders(order_date);</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</section>
<section id="etl.sql" class="level4">
<h4 class="anchored" data-anchor-id="etl.sql">02_etl.sql</h4>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb14"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- COPY must read files inside the container; we mounted ./data to /docker-entrypoint-initdb.d/data</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>\echo <span class="st">'Loading employees...'</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="kw">COPY</span> employees(employee_id,first_name,last_name,email,salary)</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> <span class="st">'/docker-entrypoint-initdb.d/data/employees.csv'</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="kw">WITH</span> (FORMAT csv, <span class="kw">HEADER</span> <span class="kw">true</span>);</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>\echo <span class="st">'Loading customers...'</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a><span class="kw">COPY</span> customers(customer_id,customer_name,address,city,zip_code)</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> <span class="st">'/docker-entrypoint-initdb.d/data/customers.csv'</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a><span class="kw">WITH</span> (FORMAT csv, <span class="kw">HEADER</span> <span class="kw">true</span>);</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>\echo <span class="st">'Loading products...'</span></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a><span class="kw">COPY</span> products(product_id,product_name,price,description,<span class="kw">category</span>)</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> <span class="st">'/docker-entrypoint-initdb.d/data/products.csv'</span></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a><span class="kw">WITH</span> (FORMAT csv, <span class="kw">HEADER</span> <span class="kw">true</span>);</span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>\echo <span class="st">'Loading orders...'</span></span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a><span class="kw">COPY</span> orders(order_id,order_date,<span class="dt">year</span>,quarter,<span class="dt">month</span>)</span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> <span class="st">'/docker-entrypoint-initdb.d/data/orders.csv'</span></span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a><span class="kw">WITH</span> (FORMAT csv, <span class="kw">HEADER</span> <span class="kw">true</span>);</span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a>\echo <span class="st">'Loading sales...'</span></span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a><span class="kw">COPY</span> sales(transaction_id,order_id,product_id,customer_id,employee_id,total_sales,quantity,discount)</span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> <span class="st">'/docker-entrypoint-initdb.d/data/sales.csv'</span></span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a><span class="kw">WITH</span> (FORMAT csv, <span class="kw">HEADER</span> <span class="kw">true</span>);</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Caution
</div>
</div>
<div class="callout-body-container callout-body">
<p>Pay attention to the orders and think about it.</p>
</div>
</div>
</section>
</section>
<section id="step-6-create-.env-file" class="level3">
<h3 class="anchored" data-anchor-id="step-6-create-.env-file">Step 6: Create <code>.env</code> file</h3>
<p>This file is going to setup the database parameters</p>
<ol type="1">
<li>Create <code>.env</code> file in the <code>root</code></li>
<li>Copy and paste the following there</li>
</ol>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb15"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="va">PORT</span><span class="op">=</span>5432</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="va">DB_USER</span><span class="op">=</span>admin</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="va">DB_PASSWORD</span><span class="op">=</span>password</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="va">DB_NAME</span><span class="op">=</span>aca</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="va">PGADMIN_EMAIL</span><span class="op">=</span>admin@admin.com</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="va">PGADMIN_PASSWORD</span><span class="op">=</span>admin</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<ol start="3" type="1">
<li>Add and commit <code>.env</code> file</li>
</ol>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb16"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> add .env</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> commit <span class="at">-m</span> <span class="st">"Added environment variables for PostgreSQL"</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</section>
<section id="step-7-create-the-docker-compose.yaml-file" class="level3">
<h3 class="anchored" data-anchor-id="step-7-create-the-docker-compose.yaml-file">Step 7: Create the docker-compose.yaml File</h3>
<ol type="1">
<li>Create <code>docker-compose.yaml</code> file</li>
<li>copy and paste the following code there</li>
</ol>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb17"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">services</span><span class="kw">:</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">db</span><span class="kw">:</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">container_name</span><span class="kw">:</span><span class="at"> postgresql_db_aca</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">image</span><span class="kw">:</span><span class="at"> postgres:17</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">restart</span><span class="kw">:</span><span class="at"> always</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">env_file</span><span class="kw">:</span><span class="at"> .env</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">environment</span><span class="kw">:</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">POSTGRES_USER</span><span class="kw">:</span><span class="at"> ${DB_USER}</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">POSTGRES_PASSWORD</span><span class="kw">:</span><span class="at"> ${DB_PASSWORD}</span></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">POSTGRES_DB</span><span class="kw">:</span><span class="at"> ${DB_NAME}</span></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">ports</span><span class="kw">:</span></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="st">"5432:5432"</span></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">healthcheck</span><span class="kw">:</span></span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">test</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="st">"CMD-SHELL"</span><span class="kw">,</span><span class="at"> </span><span class="st">"pg_isready -U ${DB_USER} -d ${DB_NAME}"</span><span class="kw">]</span></span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">interval</span><span class="kw">:</span><span class="at"> 10s</span></span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">timeout</span><span class="kw">:</span><span class="at"> 5s</span></span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">retries</span><span class="kw">:</span><span class="at"> </span><span class="dv">10</span></span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">volumes</span><span class="kw">:</span></span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a><span class="co">      # Persist database data (keep your bind mount; a named volume also works)</span></span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> ./postgres_data:/var/lib/postgresql/data</span></span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a><span class="co">      # Run these once on first initialization</span></span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> ./init:/docker-entrypoint-initdb.d</span></span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true" tabindex="-1"></a><span class="co">      # Make CSVs available to COPY during init (read-only)</span></span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> ./data:/docker-entrypoint-initdb.d/data:ro</span></span>
<span id="cb17-25"><a href="#cb17-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-26"><a href="#cb17-26" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">pgadmin</span><span class="kw">:</span></span>
<span id="cb17-27"><a href="#cb17-27" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">container_name</span><span class="kw">:</span><span class="at"> pgadmin_aca</span></span>
<span id="cb17-28"><a href="#cb17-28" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">image</span><span class="kw">:</span><span class="at"> dpage/pgadmin4</span></span>
<span id="cb17-29"><a href="#cb17-29" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">restart</span><span class="kw">:</span><span class="at"> always</span></span>
<span id="cb17-30"><a href="#cb17-30" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">env_file</span><span class="kw">:</span><span class="at"> .env</span></span>
<span id="cb17-31"><a href="#cb17-31" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">environment</span><span class="kw">:</span></span>
<span id="cb17-32"><a href="#cb17-32" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">PGADMIN_DEFAULT_EMAIL</span><span class="kw">:</span><span class="at"> ${PGADMIN_EMAIL}</span></span>
<span id="cb17-33"><a href="#cb17-33" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">PGADMIN_DEFAULT_PASSWORD</span><span class="kw">:</span><span class="at"> ${PGADMIN_PASSWORD}</span></span>
<span id="cb17-34"><a href="#cb17-34" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">ports</span><span class="kw">:</span></span>
<span id="cb17-35"><a href="#cb17-35" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="st">"5050:80"</span></span>
<span id="cb17-36"><a href="#cb17-36" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">volumes</span><span class="kw">:</span></span>
<span id="cb17-37"><a href="#cb17-37" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> ./pgadmin_data:/var/lib/pgadmin</span></span>
<span id="cb17-38"><a href="#cb17-38" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">depends_on</span><span class="kw">:</span></span>
<span id="cb17-39"><a href="#cb17-39" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> db</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<ol type="1">
<li>Add and commit</li>
</ol>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb18"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> add docker-compose.yaml</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> commit <span class="at">-m</span> <span class="st">"Added Docker Compose configuration for PostgreSQL and pgAdmin"</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<ol start="4" type="1">
<li>Now your repository must have the following structure</li>
</ol>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb19"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="bu">.</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="ex">├──</span> README.md</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="ex">├──</span> .gitignore                     <span class="co"># Ignoring</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="ex">├──</span> .env                     <span class="co"># Environment variables for PostgreSQL</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="ex">├──</span> docker-compose.yaml      <span class="co"># Docker Compose configuration</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a><span class="ex">├──</span> data/                    <span class="co"># CSV datasets</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a><span class="ex">│</span>   ├── customers.csv</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a><span class="ex">│</span>   ├── employees.csv</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a><span class="ex">│</span>   ├── orders.csv</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a><span class="ex">│</span>   ├── products.csv</span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a><span class="ex">│</span>   ├── sales.csv</span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a><span class="ex">├──</span> init/                    <span class="co"># SQL initialization scripts</span></span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a><span class="ex">│</span>   ├── 01_schema.sql        <span class="co"># Database schema creation</span></span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a><span class="ex">│</span>   ├── 02_etl.sql           <span class="co"># Data loading and ETL process</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</section>
<section id="step-8-run-the-docker-environment" class="level3">
<h3 class="anchored" data-anchor-id="step-8-run-the-docker-environment">Step 8: Run the Docker Environment</h3>
<ol type="1">
<li>Open the integrated terminal in VS Code.</li>
<li>Ensure <code>Docker Desktop</code> is running on your machine.</li>
<li>Then start the database services:</li>
</ol>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb20"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> compose up</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</section>
<section id="step-9-view-the-tables" class="level3">
<h3 class="anchored" data-anchor-id="step-9-view-the-tables">Step 9: View the Tables</h3>
<ol type="1">
<li>Once running, access pgAdmin in your browser by <a href="http://localhost:5050">http://localhost:5050</a></li>
<li>username: <code>admin@admin.com</code></li>
<li>password: <code>admin</code></li>
</ol>
<p><img src="../../img/sql/pgadmin_1.png" class="img-fluid"></p>
<ol start="4" type="1">
<li><p>Open Object<span class="math inline">\(\rightarrow\)</span>Register<span class="math inline">\(\rightarrow\)</span>Server <img src="../../img/sql/pgadmin_2.png" class="img-fluid"></p></li>
<li><p>In the general under the name column <img src="../../img/sql/pgadmin_3.png" class="img-fluid"></p></li>
<li><p>Click on the connection and fill in:</p>
<ol type="1">
<li>hostname must be the same as the postgres service name in <code>docker-compose.yaml</code>, which is <code>db</code>,</li>
<li>port <code>5432</code></li>
<li>maintenance database: <code>aca</code></li>
<li>username: <code>admin</code></li>
<li>password: <code>password</code> <img src="../../img/sql/pgadmin_4.png" class="img-fluid"></li>
</ol></li>
<li><p>Navigate to in my case: <span class="math inline">\(any_name \rightarrow aca \rightarrow Schemas \rightarrow public \rightarrow Tables\)</span></p>
<p><img src="../../img/sql/pgadmin_5.png" class="img-fluid"></p></li>
<li><p>Click on the <code>query tool</code> copy and paste the queries provided in the <a href="###Step%2010:%20Our%20First%20Queries%20%7C%20Preview">Step 10</a></p>
<p><img src="../../img/sql/pgadmin_6.png" class="img-fluid"></p></li>
</ol>
</section>
<section id="step-10-our-first-queries-preview" class="level3">
<h3 class="anchored" data-anchor-id="step-10-our-first-queries-preview">Step 10: Our First Queries | Preview</h3>
<p>Use the following SQL statements to preview the first 10 rows from each table after loading your CSV data.</p>
<p>A <strong>schema</strong> is a logical container inside a PostgreSQL database. You can think of it as a folder that holds database objects.</p>
<p>The default schema is <code>public</code>.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb21"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span> <span class="kw">FROM</span> <span class="kw">public</span>.customers <span class="kw">LIMIT</span> <span class="dv">10</span>;</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span> <span class="kw">FROM</span> <span class="kw">public</span>.employees <span class="kw">LIMIT</span> <span class="dv">10</span>;</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span> <span class="kw">FROM</span> <span class="kw">public</span>.orders <span class="kw">LIMIT</span> <span class="dv">10</span>;</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span> <span class="kw">FROM</span> <span class="kw">public</span>.products <span class="kw">LIMIT</span> <span class="dv">10</span>;</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span> <span class="kw">FROM</span> <span class="kw">public</span>.sales <span class="kw">LIMIT</span> <span class="dv">10</span>;</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</section>
<section id="step-11-close-and-delete-containers" class="level3">
<h3 class="anchored" data-anchor-id="step-11-close-and-delete-containers">Step 11: Close and Delete Containers</h3>
<p>As soon as you finish the job related to the DB, remove the containers by typing</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb22"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker-compose</span> down</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</section>
<section id="step-12-every-time-you-re-run" class="level3">
<h3 class="anchored" data-anchor-id="step-12-every-time-you-re-run">Step 12: Every time you re-run</h3>
<p>We are going to deactivate and activate constantly, so you will get used to it. Don’t worry :)</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb23"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker-compose</span> up</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>In case of <code>ANY CHANGE</code> in the <code>docker-compose.yaml</code> file:</p>
<ol type="1">
<li><code>docker compose down -v</code></li>
<li>delete <code>postgres_data</code> folder</li>
<li><code>docker compose up --build</code></li>
</ol>
</div>
</div>
</section>
<section id="step-13-detached-mode" class="level3">
<h3 class="anchored" data-anchor-id="step-13-detached-mode">STEP 13: Detached Mode</h3>
<p>Once we have databes working properly instead of <code>docker compose up</code> you can use the following command to run the containers in detached mode:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb24"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> compose up <span class="at">-d</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    setColorSchemeToggle(hasAlternateSentinel())
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/hovhannisyan91\.github\.io\/aca");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>