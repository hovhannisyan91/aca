---
title: "Data Analyst"
subtitle: "Python"
author: "Karen Hovhannisyan"
date: last-modified
format:
  revealjs: 
    touch: false
    slide-number: false
    chalkboard: true

    preview-links: auto
    width: 1500
    transition: slide
    logo: https://bootcamps.aca.am/favicon.ico
    # css: ../../../reveal_styles.css
    include-in-header:
      - text: |
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
          <style>
            .icon-xxl { font-size: 84px; }
            .icon-xl  { font-size: 64px; }
            .icon-lg  { font-size: 48px; }
            .muted { opacity: .8 }
            .pill { border-radius: 10px; }
            .circle { border-radius: 50%; }
          </style>
---

## Learning Objectives

By the end of this week, students will be able to:

- Install and configure a Python development environment using Miniconda
- Create and manage isolated Python environments
- Install common data analysis libraries
- Run Python scripts and Jupyter notebooks
- Understand Python fundamentals (syntax, data types, loops, functions)
- Connect Python to a PostgreSQL database

## 1. Installing Miniconda

Miniconda is a minimal installer for Conda that allows us to manage Python versions and packages efficiently.

![Miniconda Logo](img/python/session1/miniconda_logo.png) 

---

### Windows Installation

Use this [link](https://www.anaconda.com/download) to download Miniconda.

Launch the installer.

![Windows Miniconda installer - step 1](img/python/session1/windows-install-miniconda-screen1.png){width=85% fig-align="center"}

---

![Windows Miniconda installer - step 2](img/python/session1/windows-install-miniconda-screen2.png){width=85% fig-align="center"}

![Windows Miniconda installer - step 3](img/python/session1/windows-install-miniconda-screen3.png){width=85% fig-align="center"}
--- 

### macOS Installation (Apple Silicon â€“ M1/M2/M3/M4)

1. Go to: [https://www.anaconda.com/download](https://www.anaconda.com/download)
2. Scroll to **Miniconda Installers â†’ macOS**
3. Download **macOS (Apple Silicon arm64)** (`.pkg` file)
4. Double-click the downloaded file and follow the installer steps

![macOS Apple Silicon installer - step 1](img/python/session1/mac-miniconda-install-screen1.png){width=85% fig-align="center"}

![macOS Apple Silicon installer - step 2](img/python/session1/mac-miniconda-install-screen2.png){width=85% fig-align="center"}

---

## Why Use Isolated Environments?

Python environments allow you to separate projects and avoid conflicts.

They help you:
- Avoid version conflicts between libraries
- Keep your base environment clean
- Reproduce analyses on other machines
- Safely test new libraries or versions
- Share identical setups with teammates

Think of environments as â€œself-contained toolboxesâ€ for each project.

---

## Creating a New Environment

Open **Anaconda Prompt** (Windows) or **Terminal** (macOS/Linux)

```bash
# Basic syntax
conda create --name my-env python=3.11
```
---

## Activating the Environment

```bash
# Basic syntax
conda activate my-env
```

Your terminal prompt should change to show the environment name.

```bash
(base) user@machine ~ % conda activate data-analysis
(data-analysis) user@machine ~ %
```
**Important rule**
Always activate the correct environment before installing packages or running code.

---

## Installing packages

Rule #1: Never install packages into the (base) environment. Always create & activate a new one first.

```bash
# Preferred: use conda for scientific packages (better dependency handling)
conda install jupyter pandas numpy matplotlib seaborn scikit-learn

#Alternatively, create an environment with packages at once
conda create -n data-analysis python=3.11 jupyter pandas numpy matplotlib seaborn psycopg2 -c conda-forge

# Or install JupyterLab + extras
conda install jupyterlab plotly sqlalchemy psycopg2

# Use pip when a package is missing from conda channels
pip install pandas-profiling great-tables
```
---

## Essential Management Commands

```bash
# List all environments
conda env list

# See current environment packages
conda list

# Deactivate (go back to base)
conda deactivate

# Delete an environment (careful!)
conda env remove --name data-analysis

# Update all packages in current env
conda update --all

# Clean up unused packages & cache (frees disk space)
conda clean --all
```
---

## Installing libraries

| Library    | Purpose                        |
| ---------- | ------------------------------ |
| pandas     | Data manipulation & analysis   |
| numpy      | Numerical computing            |
| matplotlib | Low-level plotting             |
| seaborn    | Statistical data visualization |
| psycopg2   | PostgreSQL database adapter    |

---

### How to install core libraries

Using `conda`

```bash
conda install pandas numpy matplotlib seaborn psycopg2
```
---
### Installing and launching Jupyter Notebook

Jupyter Notebooks allow you to mix:
- Code
- Text explanations
- Visualizations
- Results

They are widely used in data analytics for exploration and teaching.

---
#### Why Jupyter?
- Immediate feedback
- Step-by-step execution
- Inline plots and tables
- Great for experimentation and learning

---

Using `conda`

```bash
conda install notebook

jupyter notebook
```
---
### Verifying installation

```python
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns
import psycopg2
```

--- 

### pandas

- DataFrame and Series data structures
- Handles tabular, time-series, and relational data
- SQL-like operations (join, groupby, filter)

---

### numpy

- N-dimensional arrays (ndarray)
- Vectorized operations
- Fast numerical computation

---

### Visualisation libraries

**matplotlib**

- Low-level plotting library
- Full control over figures, axes, styles
- Base library for seaborn

---

**seaborn**

- High-level interface for statistical graphics
- Built on top of matplotlib
- Works directly with pandas DataFrames

---
## Python Fundamentals (Overview)

Python is a general-purpose language with a strong focus on readability.

![Python](../../../img/python/session1/pythonlogo.png)
![Also Python](../../../img/python/session1/pythonsnake.png)

---
### Examples of common data types

Python variables can store different kinds of values â€” and each kind of value has a type that determines what you can do with it.

--- 
####Text Type: `str` (Strings)

```python
name = "Alice"
greeting = 'Hello everyone!'
```

Strings are sequences of characters, and you can:
- Join them
- Slice them
- Format them into output

---
#### Numeric Types

Integers (int)

Whole numbers, no decimal point:

```python
age = 30
year = 2026
```

Floating-Point (float)

Numbers with decimal points:

```python
pi = 3.14159
temperature = -5.2
```

Complex Numbers (complex)

Used for advanced math:

```python
z = 2 + 3j
```

Numeric types can be added, multiplied, compared, and used in math expressions.

---
#### Sequence Types

List â€” `list`

Lists store multiple values:
```python
fruits = ["apple", 3.14, True]
```

Lists are:
- Ordered
- Mutable (you can change them)
- Indexable with [0], [1], etc.

---
#### Tuple â€” `tuple`

Tuples look like lists but cannot be changed after creation:

```python
coords = (10, 20)
```
---
Range â€” `range`

Often used in loops:

```python
nums = range(5)   # produces 0,1,2,3,4
```
Great for iterating a fixed number of times.
---
#### Mapping Type â€” `dict` (Dictionaries)

Associates keys with values:

```python
person = {"name": "Alice", "age": 30}
```
Dictionaries are:
- Unordered (in older Python versions)
- Fast for lookup by key
- Very common in data work (JSON-like)

---
#### Set Types â€” `set` and `frozenset`

Set Types â€” `set`: stores unique values

```python
colors = {"red", "green", "blue"}
```
If you add `"red"` again, it wonâ€™t duplicate.

Frozen Set `frozenset`

Like a set, but immutable â€” once created it canâ€™t change.
---
#### Boolean Type â€” `bool` 

There are only two possible values:

```python
True
False
```
Booleans are essential for:
- Filtering data
- Writing conditions
- Validating assumptions in analysis
---
#### Bonus: Comparison Operators (Return Booleans)

These operators always return `True` or `False`:
```python
x == y   # equal
x != y   # not equal
x > y    # greater than
x < y    # less than
x >= y   # greater or equal
x <= y   # less or equal
```
---
#### Boolean Logic Operators

Combine multiple conditions using:
```python
and   # both conditions must be True
or    # at least one condition must be True
not   # reverses the value

# Example:
age = 22
has_ticket = True

can_enter = age >= 18 and has_ticket
```
---
### Control Flow in Python

Why Control Flow Matters in Data Analytics

In data analytics, control flow is used to:
- Filter data
- Handle missing or invalid values
- Apply rules and conditions
- Repeat operations across rows or files

Almost every real analysis uses if, for, or both.
---
#### Conditional Statements: `if`

The `if` statement runs code only when a condition is true.

```python
if condition:
    do_something
```

```python
score = 75

if score >= 60:
    print("Passed")
```
If the condition is true, the message is printed.
If not, nothing happens.
---
`if`/`else`

Use `else` when you want an alternative action.

```python
score = 45

if score >= 60:
    print("Passed")
else:
    print("Failed")
```
---
`if`/`elif`/`else`

Use `elif` (else-if) to check multiple conditions.

```python
score = 82

if score >= 90:
    grade = "A"
elif score >= 75:
    grade = "B"
else:
    grade = "C"
```
Conditions are checked top to bottom.
---
Booleans in `if` statements

```python
if passed:
    print("You passed the exam")
else:
    print("You did not pass")
```
---

Important Rule: Indentation

Correct:
```python
if x > 0:
    print("Positive")
```
Incorrect:
```python
if x > 0:
print("Positive")
```
---
Logical Operators

```python
and   both must be true
or    at least one true
not   reverse the result
```

Example:
```python
age = 20
has_id = True

if age >= 18 and has_id:
    print("Access granted")
```
---
#### Loops (Repeating Actions Automatically)

Loops allow you to run the same code multiple times.

Two main types:

`for` and `while`
---
##### `for` Loop

Iterates over a sequence.

```python
for item in sequence:
    do_something


```python
fruits = ["apple", "banana", "cherry"]

for fruit in fruits:
    print(fruit)
```
The loop runs once for each element.
---
##### `for` Loop with `range()`

Used when you want to repeat somehting a fixed number of times.

```python
for i in range(5):
    print(i)
```

Output:
```markdown
0
1
2
3
4
```
Did you notice how the output went from 0 to 4 and not 1 to 5? 
---
##### `while` Loop

Repeats as long as a conditon is true.

```python
while condition:
    do_something
```

Example:

```python
count = 0

while count < 5:
    print(count)
    count += 1
```
The loop stops when the condition becomes false.
---
**Warning!** Infinite loops!!!!

If the condition never becomes false, the loop never ends.

Examples:

```python
while x > 0:
    print(x)
```
```python
zombies = 5

while zombies > 0:
    print("Still fighting zombies...")
```
Fixed zombie apocalypseðŸ§Ÿâ€â™€ï¸: 

```python
zombies = 5

while zombies > 0:
    print("Zombie defeated!")
    zombies -= 1
```
---
##### `break` and `continue`

`break` stops the loop completely.

```python
for i in range(10):
    if i == 5:
        break
    print(i)
```
`continue` skips the current iteration.

```python
for i in range(5):
    if i == 2:
        continue
    print(i)
```
---
##### Loops with Conditions

You can combine loops and `if` statements.

```python
numbers = [10, -3, 5, -1, 0]

for n in numbers:
    if n > 0:
        print(n)
```
This pattern is extremely common in data cleaning.
---
##### Nested Loops (Use Carefully)
Loops inside loops:

```python
for row in data:
    for value in row:
        print(value)
```
Useful, but can be slow on large datasets.

In analytics, prefer pandas(coming soon!) or SQL when possible.
---
A fun little example.

```python
height = 5

for i in range(1, height + 1):
    spaces = " " * (height - i)
    stars = "*" * (2 * i - 1)
    print(spaces + stars)
```

Output:

```markdown
    *
   ***
  *****
 *******
*********
```

**Mini challenge:** create the loop for this output.
```
1
22
333
4444
55555
```
---
#### Control Flow Mindset for Analysts

Ask yourself:
- When do I need a decision? â†’ `if`
- When do I need repetition? â†’ `for` or `while`
- Can pandas or SQL do this faster?

Control flow is a tool, not always the best solution.
---
#### Common Beginner Mistakes

- Forgetting indentation
- Using = instead of ==
- Infinite while loops
- Overusing loops instead of pandas

Mistakes are normal â€” debugging is part of learning.
---
### Some exercises for you:

1. Identify the Data Type

```python
x = 10
y = 3.14
z = "Data Analytics"
w = True
```

2. Convert data types

You are given a string. Convert it into 1. an integer 2. a float.

```python
value = "42"
```

3. Lists and indexing

Given the list:

```python
numbers = [5, 10, 15, 20]
```

Print 1. the first element, 2. the last element, 3. change the value `15` to `18`.
---
### Some more exercises for you:
4. Dictionaries

Given the dictionary:

```python
student = {
    "name": "Alice",
    "age": 21,
    "grade": "B"
}
```
Print 1. the student's age, 2. Update the grade to `"A"`, 3. Add a new key called `"passed"` with value `True`.

5. Boolean Logic

Given:

```python
age = 17
has_permission = True
```
Write a condition that checks whether the person can enter an event.

Entry is allowed if:
- Age is at least 18 OR
- The person has permission
---
### MORE EXERCISES!!!
6. Simple if Statement

Write an `if` statement that prints:

`"Positive number"`

only if a variable x is greater than 0.

7. `break` and `continue`

Write a loop from 1 to 10 that:

- Skips the number 5
- Stops completely when the number reaches 8

---

---
## Connecting PostgreSQL to Python

Now that you have Miniconda, environments, and core libraries set up, letâ€™s connect Python to a **PostgreSQL** database using `psycopg2`.

### Step 1: Create and activate your environment

(You already know how to do this!)

```bash
conda create -n data-project python=3.11
conda activate data-project
```
---

### Step 2: Install the PostgreSQL driver
```bash
conda install -c conda-forge psycopg2
```
After installation, save your environmentâ€™s packages:
```bash
pip freeze > requirements.txt
# or (recommended for conda environments)
conda env export --from-history > environment.yml
```

---

### Step 3: Create a PostgreSQL database

Open your terminal and connect to PostgreSQL using `psql` (make sure PostgreSQL is installed and running).

```bash
# Connect as the default postgres user
psql -U postgres
```

Inside the psql prompt, create the database:
```SQL
CREATE DATABASE suppliers;
```

Exit psql.
```bash
\q
```

---

### Step 4: Connection to PostgreSQL with Python

```python
import psycopg2

conn = psycopg2.connect(
    dbname="suppliers",
    user="postgres",
    password="your_password_here",
    host="localhost",
    port="5432"
)

print("Connection successful!")
conn.close()
```